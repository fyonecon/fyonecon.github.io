import"../chunks/DsnmJJEf.js";import"../chunks/BCEN9pQq.js";import{p as M,ac as E,ad as L,s as C,f as N,t as Y,a as k,b as R,c as x,d as p,r as g,ae as T,m as I,e as D,aj as J,ai as a,af as F,ag as G}from"../chunks/Co-10cO8.js";import{h as H}from"../chunks/DDswawUO.js";import{i as K}from"../chunks/DAbaRw2n.js";import{a as Q}from"../chunks/ROH8NQ1C.js";import{f as s,r as w,b as v,c as n}from"../chunks/DOs1wQIB.js";import{s as V}from"../chunks/CJ2pdCbp.js";import{s as u}from"../chunks/BlWc6Yog.js";const W=!0,X=!0,Z=!1,de=Object.freeze(Object.defineProperty({__proto__:null,csr:X,prerender:W,ssr:Z},Symbol.toStringTag,{value:"Module"}));var ee=x('<div class="page-back select-none"><a href="./?from=search" title="Back home"><div class="font-text font-blue center" style="height: 50px; line-height: 50px; overflow: hidden; padding: 0 20px;">.</div></a></div> <div><div class="browser-search-engine svelte-1v2fl99"><br/> <h3 class="font-title">可以添加如下链接到浏览器的自定义搜索引擎：</h3> <br/> <div class="font-text select-text font-blue break"> </div> <br/></div></div>',1);function te(m,y){M(y,!0);let c=E(s.get_route()),l=J("hide"),_=J("");const f=n.app.app_class+"search_selected"+"_history",h="#@#"+f+"#@#",O=200,S={check_white_word(e=""){let r=this,t=!1;a(l,"hide");let o=window.location.host.indexOf(".github.io")!==-1?"https":"http";if(e===n.sys.home_route_white_word){t=!0;let i="."+n.sys.home_route+"?cache="+s.js_rand(1e5,9999999);i=i.replaceAll(".?cache=","./?cache="),i=i.replaceAll("//","/"),r.open_url(i)}else e==="@link"||e==="@bookmark"?(t=!0,r.open_url("./link")):e==="@jyp"||e==="@JYP"||e==="@Jyp"?(t=!0,r.open_url("./jyp?url_timeout="+s.url_timeout_encode("jyp",7200)+"&ap=ipt")):e==="@info"?(t=!0,r.open_url("./info")):e==="@404"?(t=!0,r.open_url("./_404")):e==="@clear"?(t=!0,s.clear_local_data(),r.open_url(s.url_path(n.sys.base_route+n.sys.home_route)+"?clear="+s.js_rand(1e4,99999))):e==="@bing"?(a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=bing&history=yes&word=%s"),t=!0):e==="@baidu"?(a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=baidu&history=no&word=%s"),t=!0):e==="@sogou"?(a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=sogou&history=no&word=%s"),t=!0):e==="@google"?(a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=google&history=yes&word=%s"),t=!0):e==="@yahoo"?(a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=yahoo&history=yes&word=%s"),t=!0):e==="@yandex"&&(a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=yandex&history=yes&word=%s"),t=!0);return t},open_url(e=""){window.location.replace(e)},check_param(){let e=this,r=s.unicode_to_string(s.search_href_param("","word").trim()),t=s.search_href_param("","engine").trim(),o=s.search_href_param("","history").trim(),i=s.search_href_param("","url_timeout").trim();if((o==="yes"||o==="true"||o==="True"||o==="1")&&e.input_history(r),i)if(s.loading_show(),s.url_timeout_decode("search",i)){if(s.is_url(r)){e.open_url(r);return}if(e.check_white_word(r))s.loading_hide();else{u[t]||(t="bing");let d=u[t].url+encodeURIComponent(r);e.open_url(d)}}else s.open_url_404("./",s.get_translate("url_timeout"),s.get_href());else if(e.check_white_word(r))s.loading_hide();else{u[t]||(t="bing");let d=u[t].url+encodeURIComponent(r);e.open_url(d)}},filter_array(e=""){let r="";if(e.length>0&&e.indexOf(h)!==-1){let t=e.split(h);t=Array.from(new Set(t));let o=0;t.length>O&&(o=O-t.length),t=t.slice(o),r=t.join(h)}else e.length>0&&e.indexOf(h)===-1&&(r=e);return r},input_history(e=""){let r=this;return new Promise(t=>{s.get_db_data(f).then(o=>{if(e.trim().length>0){o?o=o+h+e:o=h+e;let i=r.filter_array(o);s.set_db_data(f,i).then(d=>{t(i)})}})})}};function U(){s.console_log("page_start=",c),s.loading_hide(),S.check_param()}function q(){s.console_log("page_show=",c),!(!w()||!v())&&S.check_param()}function z(){s.console_log("page_hide=",c)}Q(()=>{!w()||!v()||U()}),L(()=>{!w()||!v()||document.addEventListener("visibilitychange",()=>{document.hidden?q():z()})});var $=ee(),b=C(N($),2),A=p(b),P=C(p(A),6),B=p(P,!0);g(P),T(2),g(A),g(b),Y(()=>{V(b,1,`page-div search-box select-none ${I(l)??""} `,"svelte-1v2fl99"),D(B,I(_))}),k(m,$),R()}var se=x('<meta name="keywords" content=""/> <meta name="description" content=""/>',1),re=x('<section class="section-main scroll-y-style"><!></section>');function ue(m,y){M(y,!1),K();var c=re();H("e12qt1",_=>{var j=se();T(2),F(f=>{G.title=f??""},[()=>s.get_translate("Search")]),k(_,j)});var l=p(c);te(l,{}),g(c),k(m,c),R()}export{ue as component,de as universal};
