import"../chunks/DsnmJJEf.js";import{p as j,aT as C,f as $,a as c,b as B,x as e,aV as l,d as b,aZ as V,r as f,c as R,a_ as z,a$ as pe,b0 as be,b1 as we,s as E,t as Q,af as de,ab as te,aj as ye,ae as D,ac as q,a0 as xe,ad as ke,aY as qe}from"../chunks/D38y1ty9.js";import{c as ce,s as P,m as S,u as ve,n as _e}from"../chunks/Bue-mfHW.js";import{a as L,b as oe,s as K}from"../chunks/u4ZAcAWp.js";import{s as I}from"../chunks/6GAevoZ6.js";import{p as $e}from"../chunks/C1fMcqD0.js";import{k as ne,l as Te,n as Ce,o as se,p as Ae,q as ie,f as _,r as W,b as ee,s as Y,c as le}from"../chunks/DC4uzDS5.js";import{a as ge,c as Ge}from"../chunks/Dh5n2Ulw.js";import{h as F}from"../chunks/C10EaSg4.js";import{i as ae}from"../chunks/DQ84z2ni.js";import{i as O,r as Z}from"../chunks/BDAxxGUq.js";import{e as me,i as Pe}from"../chunks/B0-lLSgq.js";const H=ce();var Me=R("<button><!></button>");function je(v,t){j(t,!0);const o=Z(t,["$$slots","$$events","$$legacy"]),s=H.consume(),n=l(()=>t.element),i=l(()=>t.children),h=l(()=>z(o,["element","children"])),u=l(()=>S(s().getActionTriggerProps(),e(h)));var g=C(),p=$(g);{var w=a=>{var r=C(),m=$(r);P(m,()=>e(n),()=>e(u)),c(a,r)},d=a=>{var r=Me();L(r,()=>({...e(u)}));var m=b(r);P(m,()=>e(i)??V),f(r),c(a,r)};O(p,a=>{e(n)?a(w):a(d,!1)})}c(v,g),B()}var Be=pe('<svg><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>');function Re(v,t){j(t,!0);const o=Z(t,["$$slots","$$events","$$legacy"]),s=l(()=>z(o,[])),n=l(()=>S({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e(s)));var i=Be();L(i,()=>({...e(n)})),c(v,i),B()}const De=v=>{Re(v,{})};var Ee=R("<button><!></button>");function Le(v,t){j(t,!0);const o=Z(t,["$$slots","$$events","$$legacy"]),s=H.consume(),n=l(()=>t.element),i=l(()=>be(t.children,De)),h=l(()=>z(o,["element","children"])),u=l(()=>S(s().getCloseTriggerProps(),e(h)));var g=C(),p=$(g);{var w=a=>{var r=C(),m=$(r);P(m,()=>e(n),()=>e(u)),c(a,r)},d=a=>{var r=Ee();L(r,()=>({...e(u)}));var m=b(r);P(m,()=>e(i)??V),f(r),c(a,r)};O(p,a=>{e(n)?a(w):a(d,!1)})}c(v,g),B()}var Ne=R("<div><!></div>");function Ve(v,t){j(t,!0);const o=Z(t,["$$slots","$$events","$$legacy"]),s=H.consume(),n=l(()=>t.element),i=l(()=>t.children),h=l(()=>z(o,["element","children"])),u=l(()=>S(s().getDescriptionProps(),e(h)));var g=C(),p=$(g);{var w=a=>{var r=C(),m=$(r);P(m,()=>e(n),()=>e(u)),c(a,r)},d=a=>{var r=Ne();L(r,()=>({...e(u)}));var m=b(r);P(m,()=>e(i)??V),f(r),c(a,r)};O(p,a=>{e(n)?a(w):a(d,!1)})}c(v,g),B()}const ue=ce();var ze=R("<div></div>");function Se(v,t){const o=we();j(t,!0);const s=Z(t,["$$slots","$$events","$$legacy"]),n=l(()=>t.element),i=l(()=>t.children),h=l(()=>t.toaster),u=l(()=>z(s,["element","children","toaster"])),g=ve(ne.machine,()=>({id:o,store:e(h)})),p=l(()=>ne.connect(g,_e)),w=l(()=>S(e(p).getGroupProps(),e(u)));ue.provide(()=>g);var d=C(),a=$(d);{var r=y=>{var x=C(),T=$(x);P(T,()=>e(n),()=>e(w)),c(y,x)},m=y=>{var x=ze();L(x,()=>({...e(w)})),me(x,21,()=>e(p).getToasts(),T=>T.id,(T,A)=>{var G=C(),k=$(G);P(k,()=>e(i)??V,()=>e(A)),c(T,G)}),f(x),c(y,x)};O(a,y=>{e(n)?y(r):y(m,!1)})}c(v,d),B()}var Ze=R("<div><!></div>");function Ie(v,t){j(t,!0);const o=Z(t,["$$slots","$$events","$$legacy"]),s=l(()=>t.element),n=l(()=>t.children),i=l(()=>z(o,["element","children"])),h=l(()=>S({"data-scope":"toast","data-part":"message"},e(i)));var u=C(),g=$(u);{var p=d=>{var a=C(),r=$(a);P(r,()=>e(s),()=>e(h)),c(d,a)},w=d=>{var a=Ze();L(a,()=>({...e(h)}));var r=b(a);P(r,()=>e(n)??V),f(a),c(d,a)};O(g,d=>{e(s)?d(p):d(w,!1)})}c(v,u),B()}function Oe(v,t){j(t,!0);const o=H.consume(),s=l(()=>t.children);var n=C(),i=$(n);P(i,()=>e(s),()=>o),c(v,n),B()}var Ue=R("<div><div></div> <!> <div></div></div>");function Fe(v,t){j(t,!0);const o=Z(t,["$$slots","$$events","$$legacy"]),s=ue.consume(),n=l(()=>t.element),i=l(()=>t.children),h=l(()=>t.toast),u=l(()=>z(o,["element","children","toast"])),g=ve(Te,()=>({...e(h),parent:s()})),p=l(()=>Ce(g,_e)),w=l(()=>S(e(p).getRootProps(),e(u)));H.provide(()=>e(p));var d=C(),a=$(d);{var r=y=>{var x=C(),T=$(x);P(T,()=>e(n),()=>e(w)),c(y,x)},m=y=>{var x=Ue();L(x,()=>({...e(w)}));var T=b(x);L(T,k=>({...k}),[()=>e(p).getGhostBeforeProps()]);var A=E(T,2);P(A,()=>e(i)??V);var G=E(A,2);L(G,k=>({...k}),[()=>e(p).getGhostAfterProps()]),f(x),c(y,x)};O(a,y=>{e(n)?y(r):y(m,!1)})}c(v,d),B()}var He=R("<div><!></div>");function Qe(v,t){j(t,!0);const o=Z(t,["$$slots","$$events","$$legacy"]),s=H.consume(),n=l(()=>t.element),i=l(()=>t.children),h=l(()=>z(o,["element","children"])),u=l(()=>S(s().getTitleProps(),e(h)));var g=C(),p=$(g);{var w=a=>{var r=C(),m=$(r);P(m,()=>e(n),()=>e(u)),c(a,r)},d=a=>{var r=He();L(r,()=>({...e(u)}));var m=b(r);P(m,()=>e(i)??V),f(r),c(a,r)};O(p,a=>{e(n)?a(w):a(d,!1)})}c(v,g),B()}const U=Object.assign(Fe,{Context:Oe,Group:Se,Message:Ie,Title:Qe,Description:Ve,ActionTrigger:je,CloseTrigger:Le});var Xe=R('<div><div class="select-none"><div class="loading-info border-radius font-text svelte-fdjvf0"><div class="alert_loading_msg break select-text svelte-fdjvf0"><!></div> <svg class="loading-icon svelte-fdjvf0" xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z" opacity="0.5"></path><path fill="currentColor" d="M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"><animateTransform attributeName="transform" dur="1s" from="0 12 12" repeatCount="indefinite" to="360 12 12" type="rotate"></animateTransform></path></svg></div></div></div>');function Ye(v,t){j(t,!1),ae();var o=Xe(),s=b(o),n=b(s),i=b(n),h=b(i);F(h,()=>se.loading_msg),f(i),de(2),f(n),f(s),f(o),Q(()=>I(o,1,`part-div alert_loading-div select-none not-click ${se.loading_show??""}`,"svelte-fdjvf0")),c(v,o),B()}var Je=R("<!> <!>",1),Ke=R("<!> <!>",1);function We(v,t){j(t,!1),ae();{const o=(s,n=V)=>{U(s,{get toast(){return n()},children:(i,h)=>{var u=Ke(),g=$(u);U.Message(g,{children:(w,d)=>{var a=Je(),r=$(a);U.Title(r,{children:(y,x)=>{var T=C(),A=$(T);F(A,()=>n().title),c(y,T)},$$slots:{default:!0}});var m=E(r,2);U.Description(m,{children:(y,x)=>{var T=C(),A=$(T);F(A,()=>n().description),c(y,T)},$$slots:{default:!0}}),c(w,a)},$$slots:{default:!0}});var p=E(g,2);U.CloseTrigger(p,{}),c(i,u)},$$slots:{default:!0}})};U.Group(v,{get toaster(){return Ae.toaster},children:o,$$slots:{default:!0}})}B()}var et=R('<div><div class="select-none"><div class="loading-info  svelte-1sascuq"><div class="alert_loading_msg break border-radius font-text bg-neutral-200 dark:bg-neutral-900 select-text svelte-1sascuq"><!></div></div></div></div>');function tt(v,t){j(t,!1),ae();var o=et(),s=b(o),n=b(s),i=b(n),h=b(i);F(h,()=>ie.alert_msg),f(i),f(n),f(s),f(o),Q(()=>I(o,1,`part-div alert_loading-div select-none ${ie.alert_show??""}`,"svelte-1sascuq")),c(v,o),B()}const J=te({theme_model:""});var at=R('<button><div><!></div> <div class="font-mini"><!></div></button>'),rt=R('<div><svg style="display: none;"><filter id="glass-distortion" x="0%" y="0%" width="100%" height="100%" filterUnits="objectBoundingBox"><feturbulence type="fractalNoise" baseFrequency="0.001 0.005" numOctaves="1" seed="17" result="turbulence"></feturbulence><fecomponenttransfer in="turbulence" result="mapped"><fefuncr type="gamma" amplitude="1" exponent="10" offset="0.5"></fefuncr> <fefuncg type="gamma" amplitude="0" exponent="1" offset="0"></fefuncg> <fefuncb type="gamma" amplitude="0" exponent="1" offset="0.5"></fefuncb></fecomponenttransfer><fegaussianblur in="turbulence" stdDeviation="3" result="softMap"></fegaussianblur><fespecularlighting in="softMap" surfaceScale="5" specularConstant="1" specularExponent="100" lighting-color="white" result="specLight"><fepointlight x="-200" y="-200" z="300"></fepointlight></fespecularlighting><fecomposite in="specLight" operator="arithmetic" k1="0" k2="1" k3="1" k4="0" result="litImage"></fecomposite><fedisplacementmap in="SourceGraphic" in2="softMap" scale="200" xChannelSelector="R" yChannelSelector="G"></fedisplacementmap></filter></svg> <div class="liquidGlass-box pywebview-drag-region can-drag   svelte-1yberpl"><div class="liquidGlass-wrapper svelte-1yberpl"><div class="liquidGlass-effect svelte-1yberpl"></div> <div class="liquidGlass-tint svelte-1yberpl"></div> <div class="liquidGlass-shine svelte-1yberpl"></div> <div class="liquidGlass-text svelte-1yberpl"><!> <div class="clear"></div></div></div></div></div> <button><img class="tab-qr-img svelte-1yberpl" alt="QR"/></button>',1);function ot(v,t){j(t,!0);let o=D(te(_.get_route()));const s=[{icon:'<svg xmlns="http://www.w3.org/2000/svg" style="display: inline-block;" width="26" height="26" viewBox="0 0 24 24"><g fill="currentColor"><path d="M10 13v-1.978l1.5-1.094l1.5 1.094V13a.25.25 0 0 1-.25.25h-2.5A.25.25 0 0 1 10 13"/><path d="M3.25 11.5a8.25 8.25 0 1 1 14.578 5.294l2.675 2.676a.75.75 0 0 1-1.06 1.06l-2.678-2.678A8.25 8.25 0 0 1 3.25 11.5m10.942-1.466l-2.25-1.64a.75.75 0 0 0-.884 0l-2.25 1.64a.75.75 0 0 0-.308.606V13c0 .966.784 1.75 1.75 1.75h2.5A1.75 1.75 0 0 0 14.5 13v-2.36a.75.75 0 0 0-.308-.606"/></g></svg>',title:_.get_translate("PureHome"),route:"/purehome",href:"./purehome"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" style="display: inline-block;" width="26" height="26" viewBox="0 0 24 24"><path fill="currentColor" d="m12 12.625l1.275.775q.275.175.538-.025T14 12.85l-.325-1.45l1.1-.95q.25-.225.163-.525t-.438-.35l-1.45-.125l-.6-1.375q-.125-.3-.45-.3t-.45.3l-.6 1.375l-1.45.125q-.35.05-.437.35t.162.525l1.1.95L10 12.85q-.075.325.188.525t.537.025zM12 18l-4.2 1.8q-1 .425-1.9-.162T5 17.975V5q0-.825.588-1.412T7 3h10q.825 0 1.413.588T19 5v12.975q0 1.075-.9 1.663t-1.9.162z"/></svg>',title:_.get_translate("Bookmark"),route:"/bookmark",href:"./bookmark"}];let n=D(205),i=D("hide"),h=D("hide"),u=D(""),g=D(0),p=D(20),w=D(20);const d={open_url(k=""){_.open_url(k)},calc_tab(){let k=s.length;q(n,95*k+10)},show_glass_div(){e(o)==="/purehome"||e(o)==="/bookmark"?q(i,"show"):q(i,"hide")},show_qr_div(){e(o)==="/purehome"||e(o)==="/bookmark"||e(o)==="/info"?_.make_qr_base64(_.get_href()).then(k=>{q(h,"show"),q(u,k,!0)}):q(h,"hide")},qr_enbig(){e(g)===0?(q(p,100),q(w,100),q(g,1)):(q(p,20),q(w,20),q(g,0))}};ge(()=>{!W()||!ee()||(q(o,_.get_route(),!0),d.calc_tab(),d.show_glass_div(),d.show_qr_div())});var a=rt(),r=$(a),m=E(b(r),2),y=b(m),x=E(b(y),6),T=b(x);me(T,17,()=>s,Pe,(k,M)=>{var N=at();N.__click=()=>d.open_url(e(M).href);var X=b(N),fe=b(X);F(fe,()=>e(M).icon),f(X);var re=E(X,2),he=b(re);F(he,()=>e(M).title),f(re),f(N),Q(()=>I(N,1,`tab-item select-none ${e(o)===e(M).route?"tab-item-active":""}`,"svelte-1yberpl")),c(k,N)}),de(2),f(x),f(y),f(m),f(r);var A=E(r,2);A.__click=()=>d.qr_enbig();var G=b(A);f(A),Q(()=>{I(r,1,`part-div liquidGlass-div select-none ${e(i)??""} `,"svelte-1yberpl"),oe(m,`width: ${e(n)??""}px;`),I(A,1,`tab-qr-box select-none font-mini click ${e(h)??""} `,"svelte-1yberpl"),oe(A,`width: ${e(p)??""}px; height: ${e(w)??""}px;`),K(G,"src",e(u))}),c(v,a),B()}ye(["click"]);var nt=R('<div><main><!></main> <!></div> <div class="alert select-none"><!> <!> <!></div>',1);function pt(v,t){j(t,!0);let o=D(te(_.get_route())),s=D("hide"),n=D(""),i=D("");const h={watch_404_route(){$e.status===404&&_.redirect_pathname({url_pathname:_.url_path("/_404"),url_params:"?error_url="+encodeURIComponent(_.get_href())+"&error_msg=404 Route"})},auto_set_language_index(){const G=le.app.app_class+"language_index";_.js_call_py_or_go("get_data",{data_key:G}).then(k=>{let M=k.content.data?k.content.data:_.get_lang();Y.lang_index=M,q(i,M,!0)})},auto_set_theme_model(){const G=le.app.app_class+"theme_model";_.js_call_py_or_go("get_data",{data_key:G}).then(k=>{let M=k.content.data;M||(M=_.get_theme_model()),J.theme_model=M,q(n,M,!0),document.documentElement.setAttribute("data-mode",M)})}};function u(){_.console_log("page_start=",e(o)),q(o,_.get_route(),!0);let G=_.get_lang();Y.lang_index=G,q(i,G,!0);let k=_.get_theme_model();if(J.theme_model=k,q(n,k,!0),document.documentElement.setAttribute("data-mode",k),W())if(ee())q(s,"show"),h.watch_404_route();else{_.alert_msg(_.get_translate("runtime_cn_chat_alert"),"long"),_.title("ðŸ˜…"),q(s,"hide");return}else{_.alert_msg(_.get_translate("runtime_error_alert"),"long"),_.title("âš ï¸"),q(s,"hide");return}}function g(){_.console_log("page_show=",e(o))}function p(){_.console_log("page_hide=",e(o))}xe(()=>{}),ge(()=>{u()}),ke(()=>{let G=_.get_lang();Y.lang_index=G,q(i,G,!0),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(M){let N=_.get_theme_model();J.theme_model=N,q(n,N,!0),document.documentElement.setAttribute("data-mode",N)}),!(!W()||!ee())&&document.addEventListener("visibilitychange",()=>{document.hidden?g():p()})}),Ge(()=>{}),qe(()=>{});var w=nt(),d=$(w),a=b(d),r=b(a);P(r,()=>t.children),f(a);var m=E(a,2);ot(m,{}),f(d);var y=E(d,2),x=b(y);Ye(x,{});var T=E(x,2);We(T,{});var A=E(T,2);tt(A,{}),f(y),Q(()=>{I(d,1,`app ${e(s)??""} select-none`),K(d,"data-theme_model",e(n)),K(d,"data-language_index",e(i)),I(a,1,`main ${e(s)??""} `)}),c(v,w),B()}export{pt as component};
