import"../chunks/DsnmJJEf.js";import"../chunks/C0VdYgKs.js";import{p as N,ac as G,ae as H,f as K,t as Q,a as T,b as q,c as $,d as c,m as d,r as f,s as M,ag as z,e as V,aN as W,ad as o,af as g,ai as X,ah as Z}from"../chunks/DoShN9jh.js";import{h as ee}from"../chunks/BmJr_iUj.js";import{i as te}from"../chunks/DbfyVqH9.js";import{a as se}from"../chunks/C9Wlr4jd.js";import{f as t,r as A,b as S,c as n}from"../chunks/CbzNfvA1.js";import{h as re}from"../chunks/a3_tXA2R.js";import{s as ae}from"../chunks/BkPuc4kX.js";import{s as b}from"../chunks/HzQTyRPj.js";const oe=!0,ie=!0,ne=!1,xe=Object.freeze(Object.defineProperty({__proto__:null,csr:ie,prerender:oe,ssr:ne},Symbol.toStringTag,{value:"Module"}));var le=$('<div class="page-back select-none svelte-1v2fl99"><a href="./?from=search" title="Back home"><div class="font-text center" style="height: 50px; line-height: 50px; overflow: hidden; padding: 0 20px; opacity: 0.5;"><!></div></a></div> <div><div class="browser-search-engine"><br/> <h3 class="font-title">å¯ä»¥æ·»åŠ å¦‚ä¸‹é“¾æ¥åˆ°æµè§ˆå™¨çš„è‡ªå®šä¹‰æœç´¢å¼•æ“ï¼š</h3> <br/> <div class="font-text select-text font-blue break"> </div> <br/></div></div>',1);function _e(v,k){N(k,!0);let h=G(t.get_route()),l=g("hide"),_=g(""),p=g("ğŸš©"),m=g(0),P=g(0);const x=n.app.app_class+"search_selected"+"_history",u="#@#"+x+"#@#",R=200,y={check_white_word(e=""){let r=this,s=!1;o(l,"hide");let a=window.location.host.indexOf(".github.io")!==-1?"https":"http";if(e===n.sys.home_route_white_word){s=!0;let i="."+n.sys.home_route+"?cache="+t.js_rand(1e5,9999999);i=i.replaceAll(".?cache=","./?cache="),i=i.replaceAll("//","/"),r.open_url(i)}else e==="@reload"||e==="@fresh"||e==="@refresh"?(s=!0,t.fresh_page(0)):e==="@link"||e==="@bookmark"?(s=!0,r.open_url("./link")):e==="@jyp"||e==="@JYP"||e==="@Jyp"?(s=!0,r.open_url("./jyp?url_timeout="+t.url_timeout_encode("jyp",7200)+"&ap=ipt")):e==="@info"?(s=!0,r.open_url("./info")):e==="@404"?(s=!0,r.open_url("./_404")):e==="@clear"?(s=!0,t.clear_local_data(),r.open_url(t.url_path(n.sys.base_route+n.sys.home_route)+"?clear="+t.js_rand(1e4,99999))):e==="@bing"?(s=!0,o(l,"show"),o(_,a+"://"+window.location.host+n.sys.base_route+"/search?engine=bing&history=yes&word=%s")):e==="@baidu"?(s=!0,o(l,"show"),o(_,a+"://"+window.location.host+n.sys.base_route+"/search?engine=baidu&history=no&word=%s")):e==="@sogou"?(s=!0,o(l,"show"),o(_,a+"://"+window.location.host+n.sys.base_route+"/search?engine=sogou&history=no&word=%s")):e==="@google"?(s=!0,o(l,"show"),o(_,a+"://"+window.location.host+n.sys.base_route+"/search?engine=google&history=yes&word=%s")):e==="@yahoo"?(s=!0,o(l,"show"),o(_,a+"://"+window.location.host+n.sys.base_route+"/search?engine=yahoo&history=yes&word=%s")):e==="@yandex"&&(s=!0,o(l,"show"),o(_,a+"://"+window.location.host+n.sys.base_route+"/search?engine=yandex&history=yes&word=%s"));return s},get_href_domain(e=""){try{return new URL(e).hostname.replace(/^www\./,"").replaceAll(".","Â·").replaceAll(":","ï¼š").slice(0,54)}catch{return"Â·Â·Â·"}},open_url(e=""){window.location.replace(e)},check_param(){let e=this,r=t.unicode_to_string(t.search_href_param("","word").trim()),s=t.search_href_param("","engine").trim(),a=t.search_href_param("","history").trim(),i=t.search_href_param("","url_timeout").trim();if(t.title(t.get_translate("search_opening_page")+" ["+r.slice(0,30)+" ...]"),(a==="yes"||a==="true"||a==="True"||a==="1")&&e.input_history(r),i)if(t.loading_show(),t.url_timeout_decode("search",i))if(t.is_url(r))o(p,t.get_translate("search_opening_page")+" "+y.get_href_domain(r)),e.open_url(r);else if(e.check_white_word(r))t.loading_hide(),o(p,"ğŸš©"),t.title(t.get_translate("search_res_show"));else{b[s]||(s="bing");let w=b[s].url+encodeURIComponent(r);o(p,t.get_translate("search_opening_page")+" "+y.get_href_domain(r)),e.open_url(w)}else t.open_url_404("./",t.get_translate("url_timeout"),t.get_href());else if(e.check_white_word(r))t.loading_hide(),t.title(t.get_translate("search_res_show"));else{b[s]||(s="bing");let w=b[s].url+encodeURIComponent(r);e.open_url(w)}},filter_array(e=""){let r="";if(e.length>0&&e.indexOf(u)!==-1){let s=e.split(u);s=Array.from(new Set(s));let a=0;s.length>R&&(a=R-s.length),s=s.slice(a),r=s.join(u)}else e.length>0&&e.indexOf(u)===-1&&(r=e);return r},input_history(e=""){let r=this;return new Promise(s=>{t.get_db_data(x).then(a=>{if(e.trim().length>0){a?a=a+u+e:a=u+e;let i=r.filter_array(a);t.set_db_data(x,i).then(w=>{s(i)})}})})}};function B(){t.console_log("page_start=",h),t.loading_hide(),y.check_param()}function E(){t.console_log("page_show=",h),!(!A()||!S())&&(W(m),clearTimeout(d(P)),d(m)<=2&&o(P,setTimeout(function(){y.check_param()},800),!0))}function Y(){t.console_log("page_hide=",h)}se(()=>{!A()||!S()||B()}),H(()=>{!A()||!S()||document.addEventListener("visibilitychange",()=>{document.hidden?E():Y()})});var U=le(),j=K(U),C=c(j),I=c(C),D=c(I);re(D,()=>d(p)),f(I),f(C),f(j);var O=M(j,2),J=c(O),L=M(c(J),6),F=c(L,!0);f(L),z(2),f(J),f(O),Q(()=>{ae(O,1,`page-div search-box select-none ${d(l)??""} `,"svelte-1v2fl99"),V(F,d(_))}),T(v,U),q()}var he=$('<meta name="keywords" content=""/> <meta name="description" content=""/>',1),ce=$('<section class="section-main scroll-y-style"><!></section>');function je(v,k){N(k,!1),te();var h=ce();ee("e12qt1",_=>{var p=he();z(2),X(m=>{Z.title=m??""},[()=>t.get_translate("Search")]),T(_,p)});var l=c(h);_e(l,{}),f(h),T(v,h),q()}export{je as component,xe as universal};
