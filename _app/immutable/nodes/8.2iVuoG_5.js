import"../chunks/DsnmJJEf.js";import"../chunks/BiDanWah.js";import{b2 as Dt,x as te,aS as St,a1 as Rt,a9 as At,i as Bt,b3 as Gt,p as S,aT as x,f as C,a as y,b as R,m as d,aV as m,c as D,a_ as U,d as N,aZ as M,r as E,b1 as Lt,b4 as $t,b5 as Mt,a0 as Kt,aO as Vt,aR as Ht,b0 as Ze,ab as Wt,ac as he,aj as $,ad as jt,t as fe,b6 as Pe,ai as T,s as B,e as X,ae as lt,aU as Ut,a8 as qt,ag as zt}from"../chunks/Co-10cO8.js";import{h as Xt}from"../chunks/DDswawUO.js";import{a as Yt}from"../chunks/BSAgY4Dy.js";import{u as Zt,v as Jt,x as $e,y as ct,z as Qt,A as es,B as ts,C as ss,D as se,E as Y,F as Te,G as pe,H as ve,J as as,K as rs,L as os,N as Ie,O as ns,P as dt,Q as is,R as Je,S as ls,T as cs,U as ds,V as us,f as w,c as De,W as ae,r as Qe,b as et}from"../chunks/CgnAYdLB.js";import{e as tt,i as st}from"../chunks/D3tX3wpG.js";import{h as at}from"../chunks/D-n12eJy.js";import{b as hs,c as re}from"../chunks/spvSpnwY.js";import{a as q,b as fs,s as rt,r as ps,c as vs}from"../chunks/B47mw97M.js";import{s as gs}from"../chunks/CJ2pdCbp.js";import{s as Se}from"../chunks/C5BicrIk.js";import{c as bs,s as P,m as z,a as _s,u as ms,n as ys}from"../chunks/CTHek-HD.js";import{i as K,r as V}from"../chunks/DBNDYk_3.js";function ws(e,s,r=s){var t=new WeakSet;Dt(e,"input",async a=>{var i=a?e.defaultValue:e.value;if(i=Re(e)?Ae(i):i,r(i),te!==null&&t.add(te),await St(),i!==(i=s())){var o=e.selectionStart,l=e.selectionEnd,u=e.value.length;if(e.value=i??"",l!==null){var c=e.value.length;o===l&&l===u&&c>u?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=o,e.selectionEnd=Math.min(l,c))}}}),(Bt&&e.defaultValue!==e.value||Rt(s)==null&&e.value)&&(r(Re(e)?Ae(e.value):e.value),te!==null&&t.add(te)),At(()=>{var a=s();if(e===document.activeElement){var i=Gt??te;if(t.has(i))return}Re(e)&&a===Ae(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Re(e){var s=e.type;return s==="number"||s==="range"}function Ae(e){return e===""?null:+e}const G=bs();var ks=D("<div></div>");function Os(e,s){S(s,!0);const r=V(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=m(()=>s.element),i=m(()=>U(r,["element"])),o=m(()=>z(t().getBackdropProps(),d(i)));var l=x(),u=C(l);{var c=g=>{var h=x(),n=C(h);P(n,()=>d(a),()=>d(o)),y(g,h)},p=g=>{var h=ks();q(h,()=>({...d(o)})),y(g,h)};K(u,g=>{d(a)?g(c):g(p,!1)})}y(e,l),R()}var Cs=D("<button><!></button>");function Es(e,s){S(s,!0);const r=V(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=m(()=>s.element),i=m(()=>s.children),o=m(()=>U(r,["element","children"])),l=m(()=>z(t().getCloseTriggerProps(),d(o)));var u=x(),c=C(u);{var p=h=>{var n=x(),v=C(n);P(v,()=>d(a),()=>d(l)),y(h,n)},g=h=>{var n=Cs();q(n,()=>({...d(l)}));var v=N(n);P(v,()=>d(i)??M),E(n),y(h,n)};K(c,h=>{d(a)?h(p):h(g,!1)})}y(e,u),R()}var xs=D("<div><!></div>");function Ns(e,s){S(s,!0);const r=V(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=m(()=>s.element),i=m(()=>s.children),o=m(()=>U(r,["element","children"])),l=m(()=>z(t().getContentProps(),d(o)));var u=x(),c=C(u);{var p=h=>{var n=x(),v=C(n);P(v,()=>d(a),()=>d(l)),y(h,n)},g=h=>{var n=xs();q(n,()=>({...d(l)}));var v=N(n);P(v,()=>d(i)??M),E(n),y(h,n)};K(c,h=>{d(a)?h(p):h(g,!1)})}y(e,u),R()}var Fs=D("<div><!></div>");function Ps(e,s){S(s,!0);const r=V(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=m(()=>s.element),i=m(()=>s.children),o=m(()=>U(r,["element","children"])),l=m(()=>z(t().getDescriptionProps(),d(o)));var u=x(),c=C(u);{var p=h=>{var n=x(),v=C(n);P(v,()=>d(a),()=>d(l)),y(h,n)},g=h=>{var n=Fs();q(n,()=>({...d(l)}));var v=N(n);P(v,()=>d(i)??M),E(n),y(h,n)};K(c,h=>{d(a)?h(p):h(g,!1)})}y(e,u),R()}var Ts=D("<div><!></div>");function Is(e,s){S(s,!0);const r=V(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=m(()=>s.element),i=m(()=>s.children),o=m(()=>U(r,["element","children"])),l=m(()=>z(t().getPositionerProps(),d(o)));var u=x(),c=C(u);{var p=h=>{var n=x(),v=C(n);P(v,()=>d(a),()=>d(l)),y(h,n)},g=h=>{var n=Ts();q(n,()=>({...d(l)}));var v=N(n);P(v,()=>d(i)??M),E(n),y(h,n)};K(c,h=>{d(a)?h(p):h(g,!1)})}y(e,u),R()}function Ds(e,s){S(s,!0);const r=G.consume(),t=m(()=>s.children);var a=x(),i=C(a);P(i,()=>d(t),()=>r),y(e,a),R()}function Ss(e,s){S(s,!0);const r=m(()=>s.children),t=m(()=>s.value);G.provide(()=>d(t)());var a=x(),i=C(a);P(i,()=>d(r)??M),y(e,a),R()}var Z=new WeakMap,ge=new WeakMap,be={},Be=0,ut=e=>e&&(e.host||ut(e.parentNode)),Rs=(e,s)=>s.map(r=>{if(e.contains(r))return r;const t=ut(r);return t&&e.contains(t)?t:(console.error("[zag-js > ariaHidden] target",r,"in not contained inside",e,". Doing nothing"),null)}).filter(r=>!!r),As=new Set(["script","output","status","next-route-announcer"]),Bs=e=>As.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),Gs=(e,s)=>{const{parentNode:r,markerName:t,controlAttribute:a,followControlledElements:i=!0}=s,o=Rs(r,Array.isArray(e)?e:[e]);be[t]||(be[t]=new WeakMap);const l=be[t],u=[],c=new Set,p=new Set(o),g=n=>{!n||c.has(n)||(c.add(n),g(n.parentNode))};o.forEach(n=>{g(n),i&&Zt(n)&&Jt(n,v=>{g(v)})});const h=n=>{!n||p.has(n)||Array.prototype.forEach.call(n.children,v=>{if(c.has(v))h(v);else try{if(Bs(v))return;const F=v.getAttribute(a)==="true",H=(Z.get(v)||0)+1,W=(l.get(v)||0)+1;Z.set(v,H),l.set(v,W),u.push(v),H===1&&F&&ge.set(v,!0),W===1&&v.setAttribute(t,""),F||v.setAttribute(a,"true")}catch(A){console.error("[zag-js > ariaHidden] cannot operate on ",v,A)}})};return h(r),c.clear(),Be++,()=>{u.forEach(n=>{const v=Z.get(n)-1,A=l.get(n)-1;Z.set(n,v),l.set(n,A),v||(ge.has(n)||n.removeAttribute(a),ge.delete(n)),A||n.removeAttribute(t)}),Be--,Be||(Z=new WeakMap,Z=new WeakMap,ge=new WeakMap,be={})}},Ls=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,$s=(e,s=Ls(e),r="data-aria-hidden",t=!0)=>{if(s)return Gs(e,{parentNode:s,markerName:r,controlAttribute:"aria-hidden",followControlledElements:t})},Ms=e=>{const s=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(s)};function Ks(e,s={}){const{defer:r=!0}=s,t=r?Ms:i=>i(),a=[];return a.push(t(()=>{const o=(typeof e=="function"?e():e).filter(Boolean);o.length!==0&&a.push($s(o))})),()=>{a.forEach(i=>i?.())}}var Vs=Object.defineProperty,Hs=(e,s,r)=>s in e?Vs(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,O=(e,s,r)=>Hs(e,typeof s!="symbol"?s+"":s,r),ot={activateTrap(e,s){if(e.length>0){const t=e[e.length-1];t!==s&&t.pause()}const r=e.indexOf(s);r===-1||e.splice(r,1),e.push(s)},deactivateTrap(e,s){const r=e.indexOf(s);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},Ws=[],js=class{constructor(e,s){O(this,"trapStack"),O(this,"config"),O(this,"doc"),O(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),O(this,"portalContainers",new Set),O(this,"listenerCleanups",[]),O(this,"handleFocus",t=>{const a=ve(t),i=this.findContainerIndex(a,t)>=0;if(i||as(a))i&&(this.state.mostRecentlyFocusedNode=a);else{t.stopImmediatePropagation();let o,l=!0;if(this.state.mostRecentlyFocusedNode)if(se(this.state.mostRecentlyFocusedNode)>0){const u=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[u];if(c.length>0){const p=c.findIndex(g=>g===this.state.mostRecentlyFocusedNode);p>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?p+1<c.length&&(o=c[p+1],l=!1):p-1>=0&&(o=c[p-1],l=!1))}}else this.state.containerGroups.some(u=>u.tabbableNodes.some(c=>se(c)>0))||(l=!1);else l=!1;l&&(o=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),o?this.tryFocus(o):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),O(this,"handlePointerDown",t=>{const a=ve(t);if(!(this.findContainerIndex(a,t)>=0)){if(oe(this.config.clickOutsideDeactivates,t)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}oe(this.config.allowOutsideClick,t)||t.preventDefault()}}),O(this,"handleClick",t=>{const a=ve(t);this.findContainerIndex(a,t)>=0||oe(this.config.clickOutsideDeactivates,t)||oe(this.config.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())}),O(this,"handleTabKey",t=>{if(this.config.isKeyForward(t)||this.config.isKeyBackward(t)){this.state.recentNavEvent=t;const a=this.config.isKeyBackward(t),i=this.findNextNavNode({event:t,isBackward:a});if(!i)return;Ge(t)&&t.preventDefault(),this.tryFocus(i)}}),O(this,"handleEscapeKey",t=>{zs(t)&&oe(this.config.escapeDeactivates,t)!==!1&&(t.preventDefault(),this.deactivate())}),O(this,"_mutationObserver"),O(this,"setupMutationObserver",()=>{const t=this.doc.defaultView||window;this._mutationObserver=new t.MutationObserver(a=>{a.some(l=>Array.from(l.removedNodes).some(c=>c===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode()),a.some(l=>l.type==="attributes"&&(l.attributeName==="aria-controls"||l.attributeName==="aria-expanded")?!0:l.type==="childList"&&l.addedNodes.length>0?Array.from(l.addedNodes).some(u=>{if(u.nodeType!==Node.ELEMENT_NODE)return!1;const c=u;return rs(c)?!0:c.id&&!this.state.containers.some(p=>p.contains(c))?os(c):!1}):!1)&&this.state.active&&!this.state.paused&&(this.updateTabbableNodes(),this.updatePortalContainers())})}),O(this,"updateObservedNodes",()=>{this._mutationObserver?.disconnect(),this.state.active&&!this.state.paused&&(this.state.containers.map(t=>{this._mutationObserver?.observe(t,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}),this.portalContainers.forEach(t=>{this.observePortalContainer(t)}))}),O(this,"getInitialFocusNode",()=>{let t=this.getNodeForOption("initialFocus",{hasFallback:!0});if(t===!1)return!1;if(t===void 0||t&&!Ie(t)){const a=Te(this.doc);if(a&&this.findContainerIndex(a)>=0)t=a;else{const i=this.state.tabbableGroups[0];t=i&&i.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else t===null&&(t=this.getNodeForOption("fallbackFocus"));if(!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t.isConnected||(t=this.getNodeForOption("fallbackFocus")),t}),O(this,"tryFocus",t=>{if(t!==!1&&t!==Te(this.doc)){if(!t||!t.focus){this.tryFocus(this.getInitialFocusNode());return}t.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=t,Xs(t)&&t.select()}}),O(this,"deactivate",t=>{if(!this.state.active)return this;const a={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...t};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),ot.deactivateTrap(this.trapStack,this),this.portalContainers.clear();const i=this.getOption(a,"onDeactivate"),o=this.getOption(a,"onPostDeactivate"),l=this.getOption(a,"checkCanReturnFocus"),u=this.getOption(a,"returnFocus","returnFocusOnDeactivate");i?.();const c=()=>{nt(()=>{if(u){const p=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(p)}o?.()})};if(u&&l){const p=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return l(p).then(c,c),this}return c(),this}),O(this,"pause",t=>{if(this.state.paused||!this.state.active)return this;const a=this.getOption(t,"onPause"),i=this.getOption(t,"onPostPause");return this.state.paused=!0,a?.(),this.removeListeners(),this.updateObservedNodes(),i?.(),this}),O(this,"unpause",t=>{if(!this.state.paused||!this.state.active)return this;const a=this.getOption(t,"onUnpause"),i=this.getOption(t,"onPostUnpause");return this.state.paused=!1,a?.(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),i?.(),this}),O(this,"updateContainerElements",t=>(this.state.containers=Array.isArray(t)?t.filter(Boolean):[t].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),O(this,"getReturnFocusNode",t=>{const a=this.getNodeForOption("setReturnFocus",{params:[t]});return a||(a===!1?!1:t)}),O(this,"getOption",(t,a,i)=>t&&t[a]!==void 0?t[a]:this.config[i||a]),O(this,"getNodeForOption",(t,{hasFallback:a=!1,params:i=[]}={})=>{let o=this.config[t];if(typeof o=="function"&&(o=o(...i)),o===!0&&(o=void 0),!o){if(o===void 0||o===!1)return o;throw new Error(`\`${t}\` was specified but was not a node, or did not return a node`)}let l=o;if(typeof o=="string"){try{l=this.doc.querySelector(o)}catch(u){throw new Error(`\`${t}\` appears to be an invalid selector; error="${u.message}"`)}if(!l&&!a)throw new Error(`\`${t}\` as selector refers to no known node`)}return l}),O(this,"findNextNavNode",t=>{const{event:a,isBackward:i=!1}=t,o=t.target||ve(a);this.updateTabbableNodes();let l=null;if(this.state.tabbableGroups.length>0){const u=this.findContainerIndex(o,a),c=u>=0?this.state.containerGroups[u]:void 0;if(u<0)i?l=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:l=this.state.tabbableGroups[0].firstTabbableNode;else if(i){let p=this.state.tabbableGroups.findIndex(({firstTabbableNode:g})=>o===g);if(p<0&&(c?.container===o||Ie(o)&&!pe(o)&&!c?.nextTabbableNode(o,!1))&&(p=u),p>=0){const g=p===0?this.state.tabbableGroups.length-1:p-1,h=this.state.tabbableGroups[g];l=se(o)>=0?h.lastTabbableNode:h.lastDomTabbableNode}else Ge(a)||(l=c?.nextTabbableNode(o,!1))}else{let p=this.state.tabbableGroups.findIndex(({lastTabbableNode:g})=>o===g);if(p<0&&(c?.container===o||Ie(o)&&!pe(o)&&!c?.nextTabbableNode(o))&&(p=u),p>=0){const g=p===this.state.tabbableGroups.length-1?0:p+1,h=this.state.tabbableGroups[g];l=se(o)>=0?h.firstTabbableNode:h.firstDomTabbableNode}else Ge(a)||(l=c?.nextTabbableNode(o))}}else l=this.getNodeForOption("fallbackFocus");return l}),this.trapStack=s.trapStack||Ws;const r={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,followControlledElements:!0,isKeyForward:Us,isKeyBackward:qs,...s};this.doc=r.document||ct(Array.isArray(e)?e[0]:e),this.config=r,this.updateContainerElements(e),this.setupMutationObserver()}addPortalContainer(e){const s=e.parentElement;s&&!this.portalContainers.has(s)&&(this.portalContainers.add(s),this.state.active&&!this.state.paused&&this.observePortalContainer(s))}observePortalContainer(e){this._mutationObserver?.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}updatePortalContainers(){this.config.followControlledElements&&this.state.containers.forEach(e=>{Qt(e).forEach(r=>{this.addPortalContainer(r)})})}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,s){const r=typeof s?.composedPath=="function"?s.composedPath():void 0;return this.state.containerGroups.findIndex(({container:t,tabbableNodes:a})=>t.contains(e)||r?.includes(t)||a.find(i=>i===e)||this.isControlledElement(t,e))}isControlledElement(e,s){return this.config.followControlledElements?es(e,s):!1}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{const s=ts(e,{getShadowRoot:this.config.getShadowRoot}),r=ss(e,{getShadowRoot:this.config.getShadowRoot}),t=s[0],a=s[s.length-1],i=t,o=a;let l=!1;for(let c=0;c<s.length;c++)if(se(s[c])>0){l=!0;break}function u(c,p=!0){const g=s.indexOf(c);if(g>=0)return s[g+(p?1:-1)];const h=r.indexOf(c);if(!(h<0)){if(p){for(let n=h+1;n<r.length;n++)if(pe(r[n]))return r[n]}else for(let n=h-1;n>=0;n--)if(pe(r[n]))return r[n]}}return{container:e,tabbableNodes:s,focusableNodes:r,posTabIndexesFound:l,firstTabbableNode:t,lastTabbableNode:a,firstDomTabbableNode:i,lastDomTabbableNode:o,nextTabbableNode:u}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return ot.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?nt(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Y(this.doc,"focusin",this.handleFocus,!0),Y(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Y(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Y(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Y(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Y(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;const s=this.getOption(e,"onActivate"),r=this.getOption(e,"onPostActivate"),t=this.getOption(e,"checkCanFocusTrap");t||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=Te(this.doc),s?.();const a=()=>{t&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),r?.()};return t?(t(this.state.containers.concat()).then(a,a),this):(a(),this)}},He=e=>e.type==="keydown",Ge=e=>He(e)&&e?.key==="Tab",Us=e=>He(e)&&e.key==="Tab"&&!e?.shiftKey,qs=e=>He(e)&&e.key==="Tab"&&e?.shiftKey,oe=(e,...s)=>typeof e=="function"?e(...s):e,zs=e=>!e.isComposing&&e.key==="Escape",nt=e=>setTimeout(e,0),Xs=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";function Ys(e,s={}){let r;const t=$e(()=>{const i=(Array.isArray(e)?e:[e]).map(l=>typeof l=="function"?l():l).filter(l=>l!=null);if(i.length===0)return;const o=i[0];r=new js(i,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:o,...s,document:ct(o)});try{r.activate()}catch{}});return function(){r?.deactivate(),t()}}var Le="data-scroll-lock";function Zs(e){const s=e.getBoundingClientRect().left;return Math.round(s)+e.scrollLeft?"paddingLeft":"paddingRight"}function it(e){const r=dt(e)?.scrollbarGutter;return r==="stable"||r?.startsWith("stable ")===!0}function Js(e){const s=e??document,r=s.defaultView??window,{documentElement:t,body:a}=s;if(a.hasAttribute(Le))return;const o=it(t)||it(a),l=r.innerWidth-t.clientWidth;a.setAttribute(Le,"");const u=()=>is(t,"--scrollbar-width",`${l}px`),c=Zs(t),p=()=>{const n={overflow:"hidden"};return!o&&l>0&&(n[c]=`${l}px`),Je(a,n)},g=()=>{const{scrollX:n,scrollY:v,visualViewport:A}=r,F=A?.offsetLeft??0,H=A?.offsetTop??0,W={position:"fixed",overflow:"hidden",top:`${-(v-Math.floor(H))}px`,left:`${-(n-Math.floor(F))}px`,right:"0"};!o&&l>0&&(W[c]=`${l}px`);const me=Je(a,W);return()=>{me?.(),r.scrollTo({left:n,top:v,behavior:"instant"})}},h=[u(),ns()?g():p()];return()=>{h.forEach(n=>n?.()),a.removeAttribute(Le)}}var Qs=cs("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),j=Qs.build(),ht=e=>e.ids?.positioner??`dialog:${e.id}:positioner`,ft=e=>e.ids?.backdrop??`dialog:${e.id}:backdrop`,Me=e=>e.ids?.content??`dialog:${e.id}:content`,pt=e=>e.ids?.trigger??`dialog:${e.id}:trigger`,Ke=e=>e.ids?.title??`dialog:${e.id}:title`,Ve=e=>e.ids?.description??`dialog:${e.id}:description`,vt=e=>e.ids?.closeTrigger??`dialog:${e.id}:close`,_e=e=>e.getById(Me(e)),ea=e=>e.getById(ht(e)),ta=e=>e.getById(ft(e)),sa=e=>e.getById(pt(e)),aa=e=>e.getById(Ke(e)),ra=e=>e.getById(Ve(e)),oa=e=>e.getById(vt(e));function na(e,s){const{state:r,send:t,context:a,prop:i,scope:o}=e,l=i("aria-label"),u=r.matches("open");return{open:u,setOpen(c){r.matches("open")!==c&&t({type:c?"OPEN":"CLOSE"})},getTriggerProps(){return s.button({...j.trigger.attrs,dir:i("dir"),id:pt(o),"aria-haspopup":"dialog",type:"button","aria-expanded":u,"data-state":u?"open":"closed","aria-controls":Me(o),onClick(c){c.defaultPrevented||t({type:"TOGGLE"})}})},getBackdropProps(){return s.element({...j.backdrop.attrs,dir:i("dir"),hidden:!u,id:ft(o),"data-state":u?"open":"closed"})},getPositionerProps(){return s.element({...j.positioner.attrs,dir:i("dir"),id:ht(o),style:{pointerEvents:u?void 0:"none"}})},getContentProps(){const c=a.get("rendered");return s.element({...j.content.attrs,dir:i("dir"),role:i("role"),hidden:!u,id:Me(o),tabIndex:-1,"data-state":u?"open":"closed","aria-modal":!0,"aria-label":l||void 0,"aria-labelledby":l||!c.title?void 0:Ke(o),"aria-describedby":c.description?Ve(o):void 0})},getTitleProps(){return s.element({...j.title.attrs,dir:i("dir"),id:Ke(o)})},getDescriptionProps(){return s.element({...j.description.attrs,dir:i("dir"),id:Ve(o)})},getCloseTriggerProps(){return s.button({...j.closeTrigger.attrs,dir:i("dir"),id:vt(o),type:"button",onClick(c){c.defaultPrevented||(c.stopPropagation(),t({type:"CLOSE"}))}})}}}var ia=ls({props({props:e,scope:s}){const r=e.role==="alertdialog",t=r?()=>oa(s):void 0,a=typeof e.modal=="boolean"?e.modal:!0;return{role:"dialog",modal:a,trapFocus:a,preventScroll:a,closeOnInteractOutside:!r,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:t,...e}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{rendered:e(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:e,action:s,prop:r}){e([()=>r("open")],()=>{s(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackDismissableElement({scope:e,send:s,prop:r}){return ds(()=>_e(e),{type:"dialog",defer:!0,pointerBlocking:r("modal"),exclude:[sa(e)],onInteractOutside(a){r("onInteractOutside")?.(a),r("closeOnInteractOutside")||a.preventDefault()},persistentElements:r("persistentElements"),onFocusOutside:r("onFocusOutside"),onPointerDownOutside:r("onPointerDownOutside"),onRequestDismiss:r("onRequestDismiss"),onEscapeKeyDown(a){r("onEscapeKeyDown")?.(a),r("closeOnEscape")||a.preventDefault()},onDismiss(){s({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:e,prop:s}){if(s("preventScroll"))return Js(e.getDoc())},trapFocus({scope:e,prop:s}){return s("trapFocus")?Ys(()=>_e(e),{preventScroll:!0,returnFocusOnDeactivate:!!s("restoreFocus"),initialFocus:s("initialFocusEl"),setReturnFocus:t=>s("finalFocusEl")?.()??t,getShadowRoot:!0}):void 0},hideContentBelow({scope:e,prop:s}){return s("modal")?Ks(()=>[_e(e)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:e,scope:s}){$e(()=>{e.set("rendered",{title:!!aa(s),description:!!ra(s)})})},syncZIndex({scope:e}){$e(()=>{const s=_e(e);if(!s)return;const r=dt(s);[ea(e),ta(e)].forEach(a=>{a?.style.setProperty("--z-index",r.zIndex),a?.style.setProperty("--layer-index",r.getPropertyValue("--layer-index"))})})},invokeOnClose({prop:e}){e("onOpenChange")?.({open:!1})},invokeOnOpen({prop:e}){e("onOpenChange")?.({open:!0})},toggleVisibility({prop:e,send:s,event:r}){s({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})}}}}),la=_s()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]),ca=us(la);function da(e){const s=ms(ia,e),r=m(()=>na(s,ys));return()=>d(r)}function ua(e,s){const r=Lt();S(s,!0);const t=V(s,["$$slots","$$events","$$legacy"]),a=m(()=>ca(t)),i=m(()=>$t(d(a),2)),o=m(()=>d(i)[0]),l=m(()=>d(i)[1]),u=m(()=>d(l).children),c=da(()=>({...d(o),id:r}));G.provide(()=>c());var p=x(),g=C(p);P(g,()=>d(u)??M),y(e,p),R()}var ha=D("<div><!></div>");function fa(e,s){S(s,!0);const r=V(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=m(()=>s.element),i=m(()=>s.children),o=m(()=>U(r,["element","children"])),l=m(()=>z(t().getTitleProps(),d(o)));var u=x(),c=C(u);{var p=h=>{var n=x(),v=C(n);P(v,()=>d(a),()=>d(l)),y(h,n)},g=h=>{var n=ha();q(n,()=>({...d(l)}));var v=N(n);P(v,()=>d(i)??M),E(n),y(h,n)};K(c,h=>{d(a)?h(p):h(g,!1)})}y(e,u),R()}var pa=D("<button><!></button>");function va(e,s){S(s,!0);const r=V(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=m(()=>s.element),i=m(()=>s.children),o=m(()=>U(r,["element","children"])),l=m(()=>z(t().getTriggerProps(),d(o)));var u=x(),c=C(u);{var p=h=>{var n=x(),v=C(n);P(v,()=>d(a),()=>d(l)),y(h,n)},g=h=>{var n=pa();q(n,()=>({...d(l)}));var v=N(n);P(v,()=>d(i)??M),E(n),y(h,n)};K(c,h=>{d(a)?h(p):h(g,!1)})}y(e,u),R()}const J=Object.assign(ua,{Provider:Ss,Context:Ds,Trigger:va,Backdrop:Os,Positioner:Is,Content:Ns,Title:fa,Description:Ps,CloseTrigger:Es});function ga(e,s){S(s,!0);const r=Mt(),t=m(()=>s.children),a=m(()=>Ze(s.disabled,!1)),i=m(()=>Ze(s.target,()=>typeof window>"u"?void 0:document.body,!0));Kt(()=>{if(d(a)||!d(i))return;const c=Vt(d(t),{target:d(i),context:r});return()=>Ht(c)});var o=x(),l=C(o);{var u=c=>{var p=x(),g=C(p);P(g,()=>d(t)),y(c,p)};K(l,c=>{(d(a)||!d(i))&&c(u)})}y(e,o),R()}const ba=ga,_a=!0,ma=!0,ya=!1,ja=Object.freeze(Object.defineProperty({__proto__:null,csr:ma,prerender:_a,ssr:ya},Symbol.toStringTag,{value:"Module"}));var wa=D("<option> </option>"),ka=D('<button class="history-btn break break-ellipsis svelte-ikxekf"> </button>'),Oa=D('<header class="flex justify-between items-center pywebview-drag-region can-drag"><!></header> <!> <footer class="flex justify-center gap-10 select-none  px-[10px] py-[10px]"><button title="Cancel" class="btn btn-base preset-tonal font-title"> </button> <button title="Update" type="button" class="btn btn-base preset-filled-primary-500 font-title"> </button></footer>',1),Ca=D("<!> <!>",1),Ea=D('<div class="page-div search-box select-none svelte-ikxekf"><div class="search-div-input svelte-ikxekf"><select class="search-div-input-select input-border font-text  svelte-ikxekf"></select> <input class="search-div-input-input input-border w-full font-title select-text svelte-ikxekf" type="search" maxlength="500"/> <span><svg class="hide" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 20 20"><path fill="currentColor" d="M11.199 4.6c-.6-.8-1.801-.8-2.401 0l-4.496 6.002c-.74.989-.035 2.4 1.2 2.4h8.995c1.236 0 1.941-1.412 1.2-2.4zM4 15a.5.5 0 0 0 0 1h12a.5.5 0 0 0 0-1z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05a2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17"></path></svg></span></div> <div class="search-div-btn font-text svelte-ikxekf"><button class="search-div-btn-btn break-ellipsis btn-border click font-red svelte-ikxekf"> </button> <button class="search-div-btn-btn break-ellipsis btn-border click svelte-ikxekf"> </button> <button class="search-div-btn-btn break-ellipsis btn-border click svelte-ikxekf"><!></button></div> <div class="search-div-history font-text font-blue scroll-y-style svelte-ikxekf"></div></div> <div class="part-div"><!></div>',1);function xa(e,s){S(s,!0);let r=he(w.get_route()),t=$("");const a=De.app.app_class+"search_selected",i=a+"_history",o="#@#"+i+"#@#",l=200;let u=$(he([])),c=$(he([])),p=$(!1),g,h=$(0),n=$(0),v=$("search-div-input-select-blur"),A=$(he(window.innerHeight));const F={close_dialog(){T(p,!1)},open_dialog(){T(p,!0)},create_select(){T(u,[{name:"Bing",value:"bing",url:"https://www.bing.com/?ensearch=1&q=",selected:"selected"}],!0),w.get_db_data(a).then(f=>{f||(f="bing");let b=Se[f];b?(b.name,b.url,T(u,[],!0),Object.keys(Se).forEach(_=>{let k=Se[_],I=f===_?"selected":"";d(u).push({name:k.name,value:_,url:k.url,selected:I})})):(w.notice("DB Error"),f="bing",w.set_db_data(a,f).then(_=>{w.console_log("update_select=",f,_)}))}),window.addEventListener("resize",function(){T(A,window.innerHeight,!0)})},update_select(f){let b=f.target.value;w.set_db_data(a,b).then(_=>{w.console_log("update_select=",b,_)})},show_history(f=""){if(T(c,[],!0),f.length>0&&f.indexOf(o)!==-1){let b=f.split(o);for(let _=0;_<b.length;_++){let k=b[_];k.trim()&&d(c).unshift(k)}}else f.length>0&&f.indexOf(o)===-1&&d(c).unshift(f)},filter_array(f=""){let b="";if(f.length>0&&f.indexOf(o)!==-1){let _=f.split(o);_=Array.from(new Set(_));let k=0;_.length>l&&(k=l-_.length),_=_.slice(k),b=_.join(o)}else f.length>0&&f.indexOf(o)===-1&&(b=f);return b},input_history(f=""){let b=this;return new Promise(_=>{w.get_db_data(i).then(k=>{if(f.trim().length>0){k?k=k+o+f:k=o+f;let I=b.filter_array(k);w.set_db_data(i,I).then(Oe=>{b.show_history(I),_(I)})}else b.show_history(k)})})},input_enter(f){let b=this;f.key==="Enter"&&(ae.input_doing===1||ae.input_doing===2?(w.console_log("输入法输入完成=",ae.input_doing),ae.input_doing=-1,b.input_run_search()):w.console_log("输入法正在输入=",ae.input_doing))},input_run_search(){let f=this;w.loading_show(),clearTimeout(d(h)),clearTimeout(d(n));let b=d(t).trim();b?((b==="@tabshow"||b==="@tab")&&(w.set_local_data(De.app.app_class+"home_tab_show","show"),b=De.sys.home_route_white_word),f.input_history(b).then(_=>{w.get_db_data(a).then(k=>{T(h,setTimeout(function(){f.input_auto_write(""),w.loading_hide()},1200),!0),k||(k="bing");let I="./search?word="+encodeURIComponent(w.string_to_unicode(b))+"&engine="+k+"&url_timeout="+w.url_timeout_encode("search",7200)+"&ap=ipt";T(n,setTimeout(function(){w.is_mobile_screen()?window.open(I,"_self"):window.open(I,"_blank")},200),!0)})})):(g.focus(),T(h,setTimeout(function(){w.loading_hide()},200),!0))},input_auto_write(f=""){T(t,f,!0)},input_clear_write(){this.input_auto_write(""),g.focus()},input_del_history(){let f=this;w.loading_show("",800);try{w.del_db_data(i).then(b=>{T(p,!1),f.input_auto_write(""),f.show_history("")})}catch{T(p,!1),w.fresh_page(0)}},change_arrow_direct_class(f=!1){f?T(v,"search-div-input-select-focus"):T(v,"search-div-input-select-blur")}};function H(){w.console_log("page_start=",r),w.loading_hide(),F.create_select(),F.input_history("")}function W(){w.console_log("page_show=",r),H()}function me(){w.console_log("page_hide=",r)}Yt(()=>{!Qe()||!et()||H()}),jt(()=>{!Qe()||!et()||(w.watch_input_enter(g),document.addEventListener("visibilitychange",()=>{document.hidden?W():me()}))});var We=Ea(),ne=C(We),ye=N(ne),ie=N(ye);ie.__change=f=>F.update_select(f),tt(ie,21,()=>d(u),st,(f,b)=>{var _=wa(),k=N(_,!0);E(_);var I={};fe(()=>{vs(_,d(b).selected),X(k,d(b).name),I!==(I=d(b).value)&&(_.value=(_.__value=d(b).value)??"")}),y(f,_)}),E(ie);var L=B(ie,2);ps(L),L.__keydown=f=>F.input_enter(f),hs(L,f=>g=f,()=>g);var gt=B(L,2);E(ye);var we=B(ye,2),le=N(we);le.__click=()=>F.open_dialog();var bt=N(le,!0);E(le);var ce=B(le,2);ce.__click=()=>F.input_clear_write();var _t=N(ce,!0);E(ce);var ke=B(ce,2);ke.__click=()=>F.input_run_search();var mt=N(ke);at(mt,()=>w.get_translate("search_enter_input")),E(ke),E(we);var je=B(we,2);tt(je,21,()=>d(c),st,(f,b)=>{var _=ka();_.__click=()=>F.input_auto_write(d(b));var k=N(_,!0);E(_),fe(()=>{rt(_,"title",d(b)),X(k,"# "+d(b)+" ")}),y(f,_)}),E(je),E(ne);var Ue=B(ne,2),yt=N(Ue);J(yt,{closeOnInteractOutside:!1,closeOnEscape:!1,get open(){return d(p)},onOpenChange:()=>{},children:(f,b)=>{ba(f,{children:(_,k)=>{var I=Ca(),Oe=C(I);re(Oe,()=>J.Backdrop,(Ce,Ee)=>{Ee(Ce,{class:"fixed inset-0 z-50 bg-surface-50-950/80  select-none"})});var wt=B(Oe,2);re(wt,()=>J.Positioner,(Ce,Ee)=>{Ee(Ce,{class:"fixed inset-0 z-50 flex justify-center items-center font-text select-none",children:(kt,Pa)=>{var qe=x(),Ot=C(qe);re(Ot,()=>J.Content,(Ct,Et)=>{Et(Ct,{class:"card bg-neutral-100 dark:bg-neutral-900 w-full max-w-xs p-4 space-y-4 shadow-xl transition transition-discrete opacity-0 translate-y-[100px] starting:data-[state=open]:opacity-0 starting:data-[state=open]:translate-y-[100px] data-[state=open]:opacity-100 data-[state=open]:translate-y-0  px-[10px] py-[10px] border-radius",children:(xt,Ta)=>{var ze=Oa(),xe=C(ze),Nt=N(xe);re(Nt,()=>J.Title,(Q,ee)=>{ee(Q,{class:"font-title font-bold",children:(Fe,Tt)=>{lt();var ue=Ut("⚠️");y(Fe,ue)},$$slots:{default:!0}})}),E(xe);var Xe=B(xe,2);re(Xe,()=>J.Description,(Q,ee)=>{ee(Q,{class:"font-title select-text",children:(Fe,Tt)=>{var ue=x(),It=C(ue);at(It,()=>w.get_translate("remove_help_2")),y(Fe,ue)},$$slots:{default:!0}})});var Ye=B(Xe,2),de=N(Ye);de.__click=()=>F.close_dialog();var Ft=N(de,!0);E(de);var Ne=B(de,2);Ne.__click=()=>F.input_del_history();var Pt=N(Ne,!0);E(Ne),E(Ye),fe((Q,ee)=>{X(Ft,Q),X(Pt,ee)},[()=>w.get_translate("btn_cancel"),()=>w.get_translate("clear")]),y(xt,ze)},$$slots:{default:!0}})}),y(kt,qe)},$$slots:{default:!0}})}),y(_,I)},$$slots:{default:!0}})},$$slots:{default:!0}}),E(Ue),fe((f,b,_)=>{fs(ne,`min-height: ${d(A)??""}px;`),rt(L,"placeholder",f),gs(gt,1,`search-div-input-arrow ${d(v)??""} `,"svelte-ikxekf"),X(bt,b),X(_t,_)},[()=>w.get_translate("input_placeholder_search"),()=>w.get_translate("search_del_history"),()=>w.get_translate("search_clear_input")]),Pe("mouseenter",L,f=>f.currentTarget.focus()),Pe("focus",L,()=>F.change_arrow_direct_class(!0)),Pe("blur",L,()=>F.change_arrow_direct_class(!1)),ws(L,()=>d(t),f=>T(t,f)),y(e,We),R()}Wt(["change","keydown","click"]);var Na=D('<meta name="keywords" content="PureHome, PureStartPage, HomePage"/> <meta name="description" content="PureHome，纯净主页，替代浏览器主页。不收集任何隐私！"/>',1),Fa=D('<section class="section-main scroll-y-style "><!></section>');function Ua(e){var s=Fa();Xt("1oe4bcy",t=>{var a=Na();lt(2),qt(()=>{zt.title="PureHome"}),y(t,a)});var r=N(s);xa(r,{}),E(s),y(e,s)}export{Ua as component,ja as universal};
