import"../chunks/DsnmJJEf.js";import{p as H,aU as P,f as q,a as c,b as R,m as e,aW as l,d as b,a_ as I,r as h,c as B,a$ as Y,b0 as qe,b1 as Ae,b2 as Ce,s as X,t as ae,ag as fe,ac as _e,aj as Te,af as z,ae as pe,ad as d,W as Ge,aZ as Pe}from"../chunks/DoShN9jh.js";import{c as be,s as E,m as Z,u as we,n as xe}from"../chunks/D6ApfgYr.js";import{a as V,b as oe,s as le}from"../chunks/4wkbyKaQ.js";import{s as W}from"../chunks/BkPuc4kX.js";import{p as ze}from"../chunks/C0VdYgKs.js";import{k as ge,l as je,n as Se,o as me,p as Ee,q as he,f as _,c as de,r as ce,b as ve,s as se}from"../chunks/CbzNfvA1.js";import{a as ye,c as Le}from"../chunks/C9Wlr4jd.js";import{h as J}from"../chunks/a3_tXA2R.js";import{i as ue}from"../chunks/DbfyVqH9.js";import{i as O,r as U}from"../chunks/Qd9R_Z5G.js";import{e as ke,i as Be}from"../chunks/uQo7kmXi.js";const K=be();var He=B("<button><!></button>");function Re(u,t){H(t,!0);const r=U(t,["$$slots","$$events","$$legacy"]),o=K.consume(),s=l(()=>t.element),i=l(()=>t.children),g=l(()=>Y(r,["element","children"])),f=l(()=>Z(o().getActionTriggerProps(),e(g)));var x=P(),p=q(x);{var w=a=>{var n=P(),m=q(n);E(m,()=>e(s),()=>e(f)),c(a,n)},v=a=>{var n=He();V(n,()=>({...e(f)}));var m=b(n);E(m,()=>e(i)??I),h(n),c(a,n)};O(p,a=>{e(s)?a(w):a(v,!1)})}c(u,x),R()}var De=qe('<svg><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>');function Xe(u,t){H(t,!0);const r=U(t,["$$slots","$$events","$$legacy"]),o=l(()=>Y(r,[])),s=l(()=>Z({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e(o)));var i=De();V(i,()=>({...e(s)})),c(u,i),R()}const Ve=u=>{Xe(u,{})};var Ne=B("<button><!></button>");function Ie(u,t){H(t,!0);const r=U(t,["$$slots","$$events","$$legacy"]),o=K.consume(),s=l(()=>t.element),i=l(()=>Ae(t.children,Ve)),g=l(()=>Y(r,["element","children"])),f=l(()=>Z(o().getCloseTriggerProps(),e(g)));var x=P(),p=q(x);{var w=a=>{var n=P(),m=q(n);E(m,()=>e(s),()=>e(f)),c(a,n)},v=a=>{var n=Ne();V(n,()=>({...e(f)}));var m=b(n);E(m,()=>e(i)??I),h(n),c(a,n)};O(p,a=>{e(s)?a(w):a(v,!1)})}c(u,x),R()}var Ye=B("<div><!></div>");function Ze(u,t){H(t,!0);const r=U(t,["$$slots","$$events","$$legacy"]),o=K.consume(),s=l(()=>t.element),i=l(()=>t.children),g=l(()=>Y(r,["element","children"])),f=l(()=>Z(o().getDescriptionProps(),e(g)));var x=P(),p=q(x);{var w=a=>{var n=P(),m=q(n);E(m,()=>e(s),()=>e(f)),c(a,n)},v=a=>{var n=Ye();V(n,()=>({...e(f)}));var m=b(n);E(m,()=>e(i)??I),h(n),c(a,n)};O(p,a=>{e(s)?a(w):a(v,!1)})}c(u,x),R()}const Me=be();var Ue=B("<div></div>");function We(u,t){const r=Ce();H(t,!0);const o=U(t,["$$slots","$$events","$$legacy"]),s=l(()=>t.element),i=l(()=>t.children),g=l(()=>t.toaster),f=l(()=>Y(o,["element","children","toaster"])),x=we(ge.machine,()=>({id:r,store:e(g)})),p=l(()=>ge.connect(x,xe)),w=l(()=>Z(e(p).getGroupProps(),e(f)));Me.provide(()=>x);var v=P(),a=q(v);{var n=k=>{var $=P(),A=q($);E(A,()=>e(s),()=>e(w)),c(k,$)},m=k=>{var $=Ue();V($,()=>({...e(w)})),ke($,21,()=>e(p).getToasts(),A=>A.id,(A,L)=>{var M=P(),y=q(M);E(y,()=>e(i)??I,()=>e(L)),c(A,M)}),h($),c(k,$)};O(a,k=>{e(s)?k(n):k(m,!1)})}c(u,v),R()}var Oe=B("<div><!></div>");function Fe(u,t){H(t,!0);const r=U(t,["$$slots","$$events","$$legacy"]),o=l(()=>t.element),s=l(()=>t.children),i=l(()=>Y(r,["element","children"])),g=l(()=>Z({"data-scope":"toast","data-part":"message"},e(i)));var f=P(),x=q(f);{var p=v=>{var a=P(),n=q(a);E(n,()=>e(o),()=>e(g)),c(v,a)},w=v=>{var a=Oe();V(a,()=>({...e(g)}));var n=b(a);E(n,()=>e(s)??I),h(a),c(v,a)};O(x,v=>{e(o)?v(p):v(w,!1)})}c(u,f),R()}function Qe(u,t){H(t,!0);const r=K.consume(),o=l(()=>t.children);var s=P(),i=q(s);E(i,()=>e(o),()=>r),c(u,s),R()}var Je=B("<div><div></div> <!> <div></div></div>");function Ke(u,t){H(t,!0);const r=U(t,["$$slots","$$events","$$legacy"]),o=Me.consume(),s=l(()=>t.element),i=l(()=>t.children),g=l(()=>t.toast),f=l(()=>Y(r,["element","children","toast"])),x=we(je,()=>({...e(g),parent:o()})),p=l(()=>Se(x,xe)),w=l(()=>Z(e(p).getRootProps(),e(f)));K.provide(()=>e(p));var v=P(),a=q(v);{var n=k=>{var $=P(),A=q($);E(A,()=>e(s),()=>e(w)),c(k,$)},m=k=>{var $=Je();V($,()=>({...e(w)}));var A=b($);V(A,y=>({...y}),[()=>e(p).getGhostBeforeProps()]);var L=X(A,2);E(L,()=>e(i)??I);var M=X(L,2);V(M,y=>({...y}),[()=>e(p).getGhostAfterProps()]),h($),c(k,$)};O(a,k=>{e(s)?k(n):k(m,!1)})}c(u,v),R()}var et=B("<div><!></div>");function tt(u,t){H(t,!0);const r=U(t,["$$slots","$$events","$$legacy"]),o=K.consume(),s=l(()=>t.element),i=l(()=>t.children),g=l(()=>Y(r,["element","children"])),f=l(()=>Z(o().getTitleProps(),e(g)));var x=P(),p=q(x);{var w=a=>{var n=P(),m=q(n);E(m,()=>e(s),()=>e(f)),c(a,n)},v=a=>{var n=et();V(n,()=>({...e(f)}));var m=b(n);E(m,()=>e(i)??I),h(n),c(a,n)};O(p,a=>{e(s)?a(w):a(v,!1)})}c(u,x),R()}const Q=Object.assign(Ke,{Context:Qe,Group:We,Message:Fe,Title:tt,Description:Ze,ActionTrigger:Re,CloseTrigger:Ie});var at=B('<div><div class="select-none"><div class="loading-info border-radius font-text svelte-fdjvf0"><div class="alert_loading_msg break select-text svelte-fdjvf0"><!></div> <svg class="loading-icon svelte-fdjvf0" xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z" opacity="0.5"></path><path fill="currentColor" d="M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"><animateTransform attributeName="transform" dur="1s" from="0 12 12" repeatCount="indefinite" to="360 12 12" type="rotate"></animateTransform></path></svg></div></div></div>');function rt(u,t){H(t,!1),ue();var r=at(),o=b(r),s=b(o),i=b(s),g=b(i);J(g,()=>me.loading_msg),h(i),fe(2),h(s),h(o),h(r),ae(()=>W(r,1,`part-div alert_loading-div select-none not-click ${me.loading_show??""}`,"svelte-fdjvf0")),c(u,r),R()}var nt=B("<!> <!>",1),ot=B("<!> <!>",1),st=B('<div class="part-div"><!></div>');function it(u,t){H(t,!1),ue();var r=st(),o=b(r);{const s=(i,g=I)=>{Q(i,{get toast(){return g()},children:(f,x)=>{var p=ot(),w=q(p);Q.Message(w,{children:(a,n)=>{var m=nt(),k=q(m);Q.Title(k,{children:(A,L)=>{var M=P(),y=q(M);J(y,()=>g().title),c(A,M)},$$slots:{default:!0}});var $=X(k,2);Q.Description($,{children:(A,L)=>{var M=P(),y=q(M);J(y,()=>g().description),c(A,M)},$$slots:{default:!0}}),c(a,m)},$$slots:{default:!0}});var v=X(w,2);Q.CloseTrigger(v,{}),c(f,p)},$$slots:{default:!0}})};Q.Group(o,{get toaster(){return Ee.toaster},children:s,$$slots:{default:!0}})}h(r),c(u,r),R()}var lt=B('<div><div class="select-none"><div class="loading-info  svelte-1sascuq"><div class="alert_loading_msg break border-radius font-text bg-neutral-200 dark:bg-neutral-900 select-text svelte-1sascuq"><!></div></div></div></div>');function dt(u,t){H(t,!1),ue();var r=lt(),o=b(r),s=b(o),i=b(s),g=b(i);J(g,()=>he.alert_msg),h(i),h(s),h(o),h(r),ae(()=>W(r,1,`part-div alert_loading-div select-none ${he.alert_show??""}`,"svelte-1sascuq")),c(u,r),R()}const ie=_e({theme_model:""});var ct=B('<button><div><!></div> <div class="font-mini"><!></div></button>'),vt=B('<div id="tab-touch_swiper"><svg style="display: none;"><filter id="glass-distortion" x="0%" y="0%" width="100%" height="100%" filterUnits="objectBoundingBox"><feturbulence type="fractalNoise" baseFrequency="0.001 0.005" numOctaves="1" seed="17" result="turbulence"></feturbulence><fecomponenttransfer in="turbulence" result="mapped"><fefuncr type="gamma" amplitude="1" exponent="10" offset="0.5"></fefuncr> <fefuncg type="gamma" amplitude="0" exponent="1" offset="0"></fefuncg> <fefuncb type="gamma" amplitude="0" exponent="1" offset="0.5"></fefuncb></fecomponenttransfer><fegaussianblur in="turbulence" stdDeviation="3" result="softMap"></fegaussianblur><fespecularlighting in="softMap" surfaceScale="5" specularConstant="1" specularExponent="100" lighting-color="white" result="specLight"><fepointlight x="-200" y="-200" z="300"></fepointlight></fespecularlighting><fecomposite in="specLight" operator="arithmetic" k1="0" k2="1" k3="1" k4="0" result="litImage"></fecomposite><fedisplacementmap in="SourceGraphic" in2="softMap" scale="200" xChannelSelector="R" yChannelSelector="G"></fedisplacementmap></filter></svg> <div class="liquidGlass-box pywebview-drag-region can-drag   svelte-1yberpl" id="swiper_tab"><div class="liquidGlass-wrapper svelte-1yberpl"><div class="liquidGlass-effect svelte-1yberpl"></div> <div class="liquidGlass-tint svelte-1yberpl"></div> <div class="liquidGlass-shine svelte-1yberpl"></div> <div class="liquidGlass-text svelte-1yberpl"><!> <div class="clear"></div></div></div></div></div> <button><img class="tab-qr-img svelte-1yberpl" alt="QR"/></button>',1);function _t(u,t){H(t,!0);let r=z(_e(_.get_route()));const o=[{icon:'<svg xmlns="http://www.w3.org/2000/svg" style="display: inline-block;" width="26" height="26" viewBox="0 0 24 24"><g fill="currentColor"><path d="M10 13v-1.978l1.5-1.094l1.5 1.094V13a.25.25 0 0 1-.25.25h-2.5A.25.25 0 0 1 10 13"/><path d="M3.25 11.5a8.25 8.25 0 1 1 14.578 5.294l2.675 2.676a.75.75 0 0 1-1.06 1.06l-2.678-2.678A8.25 8.25 0 0 1 3.25 11.5m10.942-1.466l-2.25-1.64a.75.75 0 0 0-.884 0l-2.25 1.64a.75.75 0 0 0-.308.606V13c0 .966.784 1.75 1.75 1.75h2.5A1.75 1.75 0 0 0 14.5 13v-2.36a.75.75 0 0 0-.308-.606"/></g></svg>',title:_.get_translate("PureHome"),route:"/purehome",href:"./purehome"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" style="display: inline-block;" width="26" height="26" viewBox="0 0 24 24"><path fill="currentColor" d="M9.5 21h2.066A4.7 4.7 0 0 1 11 18.75c0-1.025.325-1.974.877-2.75H9.5zM21 9.5v4.833A4.7 4.7 0 0 0 19.25 14H16V9.5zm-6.5 0v4.666a4.7 4.7 0 0 0-.874.334H9.5v-5zM21 8V6.25A3.25 3.25 0 0 0 17.75 3H16v5zm-6.5-5h-5v5h5zM8 3H6.25A3.25 3.25 0 0 0 3 6.25V8h5zM3 9.5v5h5v-5zM3 16v1.75A3.25 3.25 0 0 0 6.25 21H8v-5zm16.25-1a3.75 3.75 0 0 1 .202 7.495l-.199.005v.005a.75.75 0 0 1-.108-1.493l.102-.007l.003-.005a2.25 2.25 0 0 0 .154-4.495l-.154-.005a.75.75 0 0 1-.102-1.493zm-3.5 0a.75.75 0 0 1 .102 1.493l-.102.007a2.25 2.25 0 0 0-.154 4.495l.154.005a.75.75 0 0 1 .102 1.493l-.102.007a3.75 3.75 0 0 1-.2-7.495zm3.5 3a.75.75 0 0 1 .102 1.493l-.102.007h-3.5a.75.75 0 0 1-.102-1.493L15.75 18z"/></svg>',title:_.get_translate("Link"),route:"/link",href:"./link"}];let s=z(280),i=z(80),g=z("hide"),f=z("hide"),x=z(""),p=z(0),w=z(20),v=z(20),a=z(10),n=z(0),m=z(0),k=z(0),$=50,A=260;const L={open_url(S=""){_.open_url(S)},calc_tab_div_width(){let S=300,C=o.length,G=2,D=(2+G)*2-G*2*(C-1);C<=3?d(i,80):(d(i,Math.floor((S-D)/C),!0),e(i)<=40&&d(i,40)),d(s,e(i)*C+D)},route_in_tab_data(S){return o.find(C=>C.route===S)},swiper_goto_tab(S,C){let G=o.findIndex(F=>F.route===C),T=0,D="";G!==-1?S==="right"?(T=G+1,T<o.length&&T>=0&&(D=o[T].href)):S==="left"?(T=G-1,T>=0&&T<o.length&&(D=o[T].href)):console.warn("è¶…æ–¹å‘çš„swiper=",S):console.warn("å½“å‰è·¯ç”±æ— å¯¹åº”tabï¼Œroute=",C),_.open_url(D)},show_glass_div(){this.route_in_tab_data(e(r))?d(g,"show"):e(r)==="/purehome"?d(g,_.get_local_data(de.app.app_class+"home_tab_show")==="show"?"show":"hide",!0):d(g,"hide")},show_qr_div(){this.route_in_tab_data(e(r))||e(r)==="/info"?_.make_qr_base64(_.get_href()).then(C=>{d(f,"show"),d(x,C,!0)}):d(f,"hide")},qr_enbig(){e(p)===0?(d(w,120),d(v,120),d(p,1)):(d(w,20),d(v,20),d(p,0))},watch_touch_swiper(S){let C=this;const G=document.getElementById(S);if(!G){console.warn("id_name=",S);return}clearTimeout(e(n)),G.style.touchAction="pan-y",G.addEventListener("touchstart",function(T){d(m,T.touches[0].clientX,!0),d(k,T.touches[0].clientY,!0)},{passive:!0}),G.addEventListener("touchend",function(T){if(!e(m))return;const D=T.changedTouches[0].clientX-e(m),F=T.changedTouches[0].clientY-e(k),ne=Math.abs(D);Math.abs(F)<Math.abs(D)/2&&ne>=$&&ne<=A&&d(n,setTimeout(()=>{D>0?C.swiper_goto_tab("right",e(r)):C.swiper_goto_tab("left",e(r))},0),!0),d(m,0),d(k,0)},{passive:!0})}};ye(()=>{!ce()||!ve()||(d(r,_.get_route(),!0),L.calc_tab_div_width(),L.show_glass_div(),L.show_qr_div(),_.is_pc_pwa()||_.is_mobile_pwa()?d(a,20):d(a,10))}),pe(()=>{L.watch_touch_swiper("tab-touch_swiper")});var M=vt(),y=q(M),j=X(b(y),2),N=b(j),ee=X(b(N),6),re=b(ee);ke(re,17,()=>o,Be,(S,C)=>{var G=ct();G.__click=()=>L.open_url(e(C).href);var T=b(G),D=b(T);J(D,()=>e(C).icon),h(T);var F=X(T,2),ne=b(F);J(ne,()=>e(C).title),h(F),h(G),ae(()=>{W(G,1,`tab-item select-none click ${e(r)===e(C).route?"tab-item-active":""}`,"svelte-1yberpl"),oe(G,`width: ${e(i)??""}px;`)}),c(S,G)}),fe(2),h(ee),h(N),h(j),h(y);var te=X(y,2);te.__click=()=>L.qr_enbig();var $e=b(te);h(te),ae(()=>{W(y,1,`part-div liquidGlass-div select-none ${e(g)??""} `,"svelte-1yberpl"),oe(j,`width: ${e(s)??""}px; bottom: ${e(a)??""}px;`),W(te,1,`tab-qr-box select-none font-mini click ${e(f)??""} `,"svelte-1yberpl"),oe(te,`width: ${e(w)??""}px; height: ${e(v)??""}px;`),le($e,"src",e(x))}),c(u,M),R()}Te(["click"]);var ut=B('<div><main><!></main> <!></div> <div class="alert select-none"><!> <!> <!></div>',1);function qt(u,t){H(t,!0);let r=z(_e(_.get_route())),o=z("hide"),s=z(""),i=z("");const g={watch_404_route(){ze.status===404&&_.redirect_pathname({url_pathname:_.url_path("/_404"),url_params:"?error_url="+encodeURIComponent(_.get_href())+"&error_msg=404 Route"})},auto_set_language_index(){const M=de.app.app_class+"language_index";_.js_call_py_or_go("get_data",{data_key:M}).then(y=>{let j=y.content.data?y.content.data:_.get_lang();se.lang_index=j,d(i,j,!0)})},auto_set_theme_model(){const M=de.app.app_class+"theme_model";_.js_call_py_or_go("get_data",{data_key:M}).then(y=>{let j=y.content.data;j||(j=_.get_theme_model()),ie.theme_model=j,d(s,j,!0),document.documentElement.setAttribute("data-mode",j)})}};function f(){_.console_log("page_start=",e(r)),d(r,_.get_route(),!0);let M=_.get_lang();se.lang_index=M,d(i,M,!0);let y=_.get_theme_model();if(ie.theme_model=y,d(s,y,!0),document.documentElement.setAttribute("data-mode",y),ce())if(ve())d(o,"show"),g.watch_404_route();else{_.alert_msg(_.get_translate("runtime_cn_chat_alert"),"long"),_.title("ðŸ˜…"),d(o,"hide");return}else{let j=0,N=0,ee=0,re=0;j=window.screen.width,N=window.screen.height,ee=window.screen.availWidth,re=window.screen.availHeight,_.alert_msg(_.get_translate("runtime_error_alert")+" - ["+j.toString()+"x"+N.toString()+"_"+ee.toString()+"x"+re.toString()+"]","long"),_.title("âš ï¸"),d(o,"hide");return}}function x(){_.console_log("page_show=",e(r))}function p(){_.console_log("page_hide=",e(r))}Ge(()=>{}),ye(()=>{f()}),pe(()=>{let M=_.get_lang();se.lang_index=M,d(i,M,!0),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(j){let N=_.get_theme_model();ie.theme_model=N,d(s,N,!0),document.documentElement.setAttribute("data-mode",N)}),!(!ce()||!ve())&&document.addEventListener("visibilitychange",()=>{document.hidden?x():p()})}),Le(()=>{}),Pe(()=>{});var w=ut(),v=q(w),a=b(v),n=b(a);E(n,()=>t.children),h(a);var m=X(a,2);_t(m,{}),h(v);var k=X(v,2),$=b(k);rt($,{});var A=X($,2);it(A,{});var L=X(A,2);dt(L,{}),h(k),ae(()=>{W(v,1,`app ${e(o)??""} select-none`),le(v,"data-theme_model",e(s)),le(v,"data-language_index",e(i)),W(a,1,`main ${e(o)??""} `)}),c(u,w),R()}export{qt as component};
