import"../chunks/DsnmJJEf.js";import"../chunks/B6wcfD4J.js";import{p as M,ac as E,ad as L,s as C,f as N,t as Y,a as k,b as R,c as x,d,r as g,ae as T,l as I,e as D,aj as J,ai as a,af as F,ag as G}from"../chunks/DDM-VYuv.js";import{h as H}from"../chunks/n-_N7h5u.js";import{i as K}from"../chunks/B4aUbAMv.js";import{a as Q}from"../chunks/DtTLLIT0.js";import{f as t,r as w,b as v,c as n}from"../chunks/LvjCNRwg.js";import{s as V}from"../chunks/BK4eK8HS.js";import{s as u}from"../chunks/MXaMPiQR.js";const W=!0,X=!0,Z=!1,pe=Object.freeze(Object.defineProperty({__proto__:null,csr:X,prerender:W,ssr:Z},Symbol.toStringTag,{value:"Module"}));var ee=x('<div class="page-back select-none"><a href="./?from=search" title="Back home"><div class="font-text font-blue center" style="height: 50px; line-height: 50px; overflow: hidden; padding: 0 20px;">.</div></a></div> <div><div class="browser-search-engine svelte-1v2fl99"><br/> <h3 class="font-title">可以添加如下链接到浏览器的自定义搜索引擎：</h3> <br/> <div class="font-text select-text font-blue break"> </div> <br/></div></div>',1);function te(m,y){M(y,!0);let h=E(t.get_route()),l=J("hide"),_=J("");const f=n.app.app_class+"search_selected"+"_history",c="#@#"+f+"#@#",O=200,S={check_white_word(e=""){let r=this,s=!1;a(l,"hide");let o=window.location.host.indexOf(".github.io")!==-1?"https":"http";if(e===n.sys.home_route_white_word){s=!0;let i="."+n.sys.home_route+"?cache="+t.js_rand(1e5,9999999);i=i.replaceAll(".?cache=","./?cache="),i=i.replaceAll("//","/"),r.open_url(i)}else e==="@reload"||e==="@fresh"||e==="@refresh"?(s=!0,t.fresh_page(0)):e==="@link"||e==="@bookmark"?(s=!0,r.open_url("./link")):e==="@jyp"||e==="@JYP"||e==="@Jyp"?(s=!0,r.open_url("./jyp?url_timeout="+t.url_timeout_encode("jyp",7200)+"&ap=ipt")):e==="@info"?(s=!0,r.open_url("./info")):e==="@404"?(s=!0,r.open_url("./_404")):e==="@clear"?(s=!0,t.clear_local_data(),r.open_url(t.url_path(n.sys.base_route+n.sys.home_route)+"?clear="+t.js_rand(1e4,99999))):e==="@bing"?(s=!0,a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=bing&history=yes&word=%s")):e==="@baidu"?(s=!0,a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=baidu&history=no&word=%s")):e==="@sogou"?(s=!0,a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=sogou&history=no&word=%s")):e==="@google"?(s=!0,a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=google&history=yes&word=%s")):e==="@yahoo"?(s=!0,a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=yahoo&history=yes&word=%s")):e==="@yandex"&&(s=!0,a(l,"show"),a(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=yandex&history=yes&word=%s"));return s},open_url(e=""){window.location.replace(e)},check_param(){let e=this,r=t.unicode_to_string(t.search_href_param("","word").trim()),s=t.search_href_param("","engine").trim(),o=t.search_href_param("","history").trim(),i=t.search_href_param("","url_timeout").trim();if(t.title(t.get_translate("search_opening_page")+" ["+r.slice(0,30)+" ...]"),(o==="yes"||o==="true"||o==="True"||o==="1")&&e.input_history(r),i)if(t.loading_show(),t.url_timeout_decode("search",i)){if(t.is_url(r)){e.open_url(r);return}if(e.check_white_word(r))t.loading_hide(),t.title(t.get_translate("search_res_show"));else{u[s]||(s="bing");let p=u[s].url+encodeURIComponent(r);e.open_url(p)}}else t.open_url_404("./",t.get_translate("url_timeout"),t.get_href());else if(e.check_white_word(r))t.loading_hide(),t.title(t.get_translate("search_res_show"));else{u[s]||(s="bing");let p=u[s].url+encodeURIComponent(r);e.open_url(p)}},filter_array(e=""){let r="";if(e.length>0&&e.indexOf(c)!==-1){let s=e.split(c);s=Array.from(new Set(s));let o=0;s.length>O&&(o=O-s.length),s=s.slice(o),r=s.join(c)}else e.length>0&&e.indexOf(c)===-1&&(r=e);return r},input_history(e=""){let r=this;return new Promise(s=>{t.get_db_data(f).then(o=>{if(e.trim().length>0){o?o=o+c+e:o=c+e;let i=r.filter_array(o);t.set_db_data(f,i).then(p=>{s(i)})}})})}};function U(){t.console_log("page_start=",h),t.loading_hide(),S.check_param()}function q(){t.console_log("page_show=",h),!(!w()||!v())&&S.check_param()}function z(){t.console_log("page_hide=",h)}Q(()=>{!w()||!v()||U()}),L(()=>{!w()||!v()||document.addEventListener("visibilitychange",()=>{document.hidden?q():z()})});var $=ee(),b=C(N($),2),A=d(b),P=C(d(A),6),B=d(P,!0);g(P),T(2),g(A),g(b),Y(()=>{V(b,1,`page-div search-box select-none ${I(l)??""} `,"svelte-1v2fl99"),D(B,I(_))}),k(m,$),R()}var se=x('<meta name="keywords" content=""/> <meta name="description" content=""/>',1),re=x('<section class="section-main scroll-y-style"><!></section>');function ue(m,y){M(y,!1),K();var h=re();H("e12qt1",_=>{var j=se();T(2),F(f=>{G.title=f??""},[()=>t.get_translate("Search")]),k(_,j)});var l=d(h);te(l,{}),g(h),k(m,h),R()}export{ue as component,pe as universal};
