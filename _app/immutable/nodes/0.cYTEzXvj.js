import"../chunks/DsnmJJEf.js";import{p as z,aT as T,f as q,a as d,b as j,l as e,aV as l,d as b,aZ as X,r as h,c as P,a_ as S,a$ as Me,b0 as qe,b1 as $e,s as R,t as ee,ae as ge,ac as ie,ab as Ae,aj as G,ad as me,ai as g,h as Te,aY as Ce}from"../chunks/DDM-VYuv.js";import{c as he,s as C,m as N,u as fe,n as pe}from"../chunks/BfuGpDzM.js";import{a as V,b as de,s as ne}from"../chunks/BuPMPIKc.js";import{s as I}from"../chunks/BK4eK8HS.js";import{p as Ge}from"../chunks/DlvzVu4-.js";import{k as ce,l as Pe,n as ze,o as ve,p as je,q as _e,f as v,r as oe,b as se,s as ae,c as ue}from"../chunks/DIFvCJih.js";import{a as be,c as Ee}from"../chunks/CIl6gyzB.js";import{e as we,h as F,i as Le}from"../chunks/C8thCtN3.js";import{i as le}from"../chunks/B4aUbAMv.js";import{i as O,r as Y}from"../chunks/D0uX6Wg0.js";const Q=he();var Be=P("<button><!></button>");function Re(_,t){z(t,!0);const r=Y(t,["$$slots","$$events","$$legacy"]),s=Q.consume(),o=l(()=>t.element),i=l(()=>t.children),u=l(()=>S(r,["element","children"])),w=l(()=>N(s().getActionTriggerProps(),e(u)));var y=T(),f=q(y);{var x=a=>{var n=T(),p=q(n);C(p,()=>e(o),()=>e(w)),d(a,n)},c=a=>{var n=Be();V(n,()=>({...e(w)}));var p=b(n);C(p,()=>e(i)??X),h(n),d(a,n)};O(f,a=>{e(o)?a(x):a(c,!1)})}d(_,y),j()}var De=Me('<svg><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>');function He(_,t){z(t,!0);const r=Y(t,["$$slots","$$events","$$legacy"]),s=l(()=>S(r,[])),o=l(()=>N({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e(s)));var i=De();V(i,()=>({...e(o)})),d(_,i),j()}const Ve=_=>{He(_,{})};var Xe=P("<button><!></button>");function Se(_,t){z(t,!0);const r=Y(t,["$$slots","$$events","$$legacy"]),s=Q.consume(),o=l(()=>t.element),i=l(()=>qe(t.children,Ve)),u=l(()=>S(r,["element","children"])),w=l(()=>N(s().getCloseTriggerProps(),e(u)));var y=T(),f=q(y);{var x=a=>{var n=T(),p=q(n);C(p,()=>e(o),()=>e(w)),d(a,n)},c=a=>{var n=Xe();V(n,()=>({...e(w)}));var p=b(n);C(p,()=>e(i)??X),h(n),d(a,n)};O(f,a=>{e(o)?a(x):a(c,!1)})}d(_,y),j()}var Ne=P("<div><!></div>");function Ye(_,t){z(t,!0);const r=Y(t,["$$slots","$$events","$$legacy"]),s=Q.consume(),o=l(()=>t.element),i=l(()=>t.children),u=l(()=>S(r,["element","children"])),w=l(()=>N(s().getDescriptionProps(),e(u)));var y=T(),f=q(y);{var x=a=>{var n=T(),p=q(n);C(p,()=>e(o),()=>e(w)),d(a,n)},c=a=>{var n=Ne();V(n,()=>({...e(w)}));var p=b(n);C(p,()=>e(i)??X),h(n),d(a,n)};O(f,a=>{e(o)?a(x):a(c,!1)})}d(_,y),j()}const ye=he();var Ze=P("<div></div>");function Ie(_,t){const r=$e();z(t,!0);const s=Y(t,["$$slots","$$events","$$legacy"]),o=l(()=>t.element),i=l(()=>t.children),u=l(()=>t.toaster),w=l(()=>S(s,["element","children","toaster"])),y=fe(ce.machine,()=>({id:r,store:e(u)})),f=l(()=>ce.connect(y,pe)),x=l(()=>N(e(f).getGroupProps(),e(w)));ye.provide(()=>y);var c=T(),a=q(c);{var n=$=>{var m=T(),A=q(m);C(A,()=>e(o),()=>e(x)),d($,m)},p=$=>{var m=Ze();V(m,()=>({...e(x)})),we(m,21,()=>e(f).getToasts(),A=>A.id,(A,E)=>{var k=T(),M=q(k);C(M,()=>e(i)??X,()=>e(E)),d(A,k)}),h(m),d($,m)};O(a,$=>{e(o)?$(n):$(p,!1)})}d(_,c),j()}var Oe=P("<div><!></div>");function Ue(_,t){z(t,!0);const r=Y(t,["$$slots","$$events","$$legacy"]),s=l(()=>t.element),o=l(()=>t.children),i=l(()=>S(r,["element","children"])),u=l(()=>N({"data-scope":"toast","data-part":"message"},e(i)));var w=T(),y=q(w);{var f=c=>{var a=T(),n=q(a);C(n,()=>e(s),()=>e(u)),d(c,a)},x=c=>{var a=Oe();V(a,()=>({...e(u)}));var n=b(a);C(n,()=>e(o)??X),h(a),d(c,a)};O(y,c=>{e(s)?c(f):c(x,!1)})}d(_,w),j()}function Fe(_,t){z(t,!0);const r=Q.consume(),s=l(()=>t.children);var o=T(),i=q(o);C(i,()=>e(s),()=>r),d(_,o),j()}var Qe=P("<div><div></div> <!> <div></div></div>");function Je(_,t){z(t,!0);const r=Y(t,["$$slots","$$events","$$legacy"]),s=ye.consume(),o=l(()=>t.element),i=l(()=>t.children),u=l(()=>t.toast),w=l(()=>S(r,["element","children","toast"])),y=fe(Pe,()=>({...e(u),parent:s()})),f=l(()=>ze(y,pe)),x=l(()=>N(e(f).getRootProps(),e(w)));Q.provide(()=>e(f));var c=T(),a=q(c);{var n=$=>{var m=T(),A=q(m);C(A,()=>e(o),()=>e(x)),d($,m)},p=$=>{var m=Qe();V(m,()=>({...e(x)}));var A=b(m);V(A,M=>({...M}),[()=>e(f).getGhostBeforeProps()]);var E=R(A,2);C(E,()=>e(i)??X);var k=R(E,2);V(k,M=>({...M}),[()=>e(f).getGhostAfterProps()]),h(m),d($,m)};O(a,$=>{e(o)?$(n):$(p,!1)})}d(_,c),j()}var Ke=P("<div><!></div>");function We(_,t){z(t,!0);const r=Y(t,["$$slots","$$events","$$legacy"]),s=Q.consume(),o=l(()=>t.element),i=l(()=>t.children),u=l(()=>S(r,["element","children"])),w=l(()=>N(s().getTitleProps(),e(u)));var y=T(),f=q(y);{var x=a=>{var n=T(),p=q(n);C(p,()=>e(o),()=>e(w)),d(a,n)},c=a=>{var n=Ke();V(n,()=>({...e(w)}));var p=b(n);C(p,()=>e(i)??X),h(n),d(a,n)};O(f,a=>{e(o)?a(x):a(c,!1)})}d(_,y),j()}const U=Object.assign(Je,{Context:Fe,Group:Ie,Message:Ue,Title:We,Description:Ye,ActionTrigger:Re,CloseTrigger:Se});var et=P('<div><div class="select-none"><div class="loading-info border-radius font-text svelte-fdjvf0"><div class="alert_loading_msg break select-text svelte-fdjvf0"><!></div> <svg class="loading-icon svelte-fdjvf0" xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z" opacity="0.5"></path><path fill="currentColor" d="M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"><animateTransform attributeName="transform" dur="1s" from="0 12 12" repeatCount="indefinite" to="360 12 12" type="rotate"></animateTransform></path></svg></div></div></div>');function tt(_,t){z(t,!1),le();var r=et(),s=b(r),o=b(s),i=b(o),u=b(i);F(u,()=>ve.loading_msg),h(i),ge(2),h(o),h(s),h(r),ee(()=>I(r,1,`part-div alert_loading-div select-none not-click ${ve.loading_show??""}`,"svelte-fdjvf0")),d(_,r),j()}var at=P("<!> <!>",1),rt=P("<!> <!>",1),nt=P('<div class="part-div"><!></div>');function ot(_,t){z(t,!1),le();var r=nt(),s=b(r);{const o=(i,u=X)=>{U(i,{get toast(){return u()},children:(w,y)=>{var f=rt(),x=q(f);U.Message(x,{children:(a,n)=>{var p=at(),$=q(p);U.Title($,{children:(A,E)=>{var k=T(),M=q(k);F(M,()=>u().title),d(A,k)},$$slots:{default:!0}});var m=R($,2);U.Description(m,{children:(A,E)=>{var k=T(),M=q(k);F(M,()=>u().description),d(A,k)},$$slots:{default:!0}}),d(a,p)},$$slots:{default:!0}});var c=R(x,2);U.CloseTrigger(c,{}),d(w,f)},$$slots:{default:!0}})};U.Group(s,{get toaster(){return je.toaster},children:o,$$slots:{default:!0}})}h(r),d(_,r),j()}var st=P('<div><div class="select-none"><div class="loading-info  svelte-1sascuq"><div class="alert_loading_msg break border-radius font-text bg-neutral-200 dark:bg-neutral-900 select-text svelte-1sascuq"><!></div></div></div></div>');function it(_,t){z(t,!1),le();var r=st(),s=b(r),o=b(s),i=b(o),u=b(i);F(u,()=>_e.alert_msg),h(i),h(o),h(s),h(r),ee(()=>I(r,1,`part-div alert_loading-div select-none ${_e.alert_show??""}`,"svelte-1sascuq")),d(_,r),j()}const re=ie({theme_model:""});var lt=P('<button><div><!></div> <div class="font-mini"><!></div></button>'),dt=P('<div id="tab-touch_swiper"><svg style="display: none;"><filter id="glass-distortion" x="0%" y="0%" width="100%" height="100%" filterUnits="objectBoundingBox"><feturbulence type="fractalNoise" baseFrequency="0.001 0.005" numOctaves="1" seed="17" result="turbulence"></feturbulence><fecomponenttransfer in="turbulence" result="mapped"><fefuncr type="gamma" amplitude="1" exponent="10" offset="0.5"></fefuncr> <fefuncg type="gamma" amplitude="0" exponent="1" offset="0"></fefuncg> <fefuncb type="gamma" amplitude="0" exponent="1" offset="0.5"></fefuncb></fecomponenttransfer><fegaussianblur in="turbulence" stdDeviation="3" result="softMap"></fegaussianblur><fespecularlighting in="softMap" surfaceScale="5" specularConstant="1" specularExponent="100" lighting-color="white" result="specLight"><fepointlight x="-200" y="-200" z="300"></fepointlight></fespecularlighting><fecomposite in="specLight" operator="arithmetic" k1="0" k2="1" k3="1" k4="0" result="litImage"></fecomposite><fedisplacementmap in="SourceGraphic" in2="softMap" scale="200" xChannelSelector="R" yChannelSelector="G"></fedisplacementmap></filter></svg> <div class="liquidGlass-box pywebview-drag-region can-drag   svelte-1yberpl" id="swiper_tab"><div class="liquidGlass-wrapper svelte-1yberpl"><div class="liquidGlass-effect svelte-1yberpl"></div> <div class="liquidGlass-tint svelte-1yberpl"></div> <div class="liquidGlass-shine svelte-1yberpl"></div> <div class="liquidGlass-text svelte-1yberpl"><!> <div class="clear"></div></div></div></div></div> <button><img class="tab-qr-img svelte-1yberpl" alt="QR"/></button>',1);function ct(_,t){z(t,!0);let r=G(ie(v.get_route()));const s=[{icon:'<svg xmlns="http://www.w3.org/2000/svg" style="display: inline-block;" width="26" height="26" viewBox="0 0 24 24"><g fill="currentColor"><path d="M10 13v-1.978l1.5-1.094l1.5 1.094V13a.25.25 0 0 1-.25.25h-2.5A.25.25 0 0 1 10 13"/><path d="M3.25 11.5a8.25 8.25 0 1 1 14.578 5.294l2.675 2.676a.75.75 0 0 1-1.06 1.06l-2.678-2.678A8.25 8.25 0 0 1 3.25 11.5m10.942-1.466l-2.25-1.64a.75.75 0 0 0-.884 0l-2.25 1.64a.75.75 0 0 0-.308.606V13c0 .966.784 1.75 1.75 1.75h2.5A1.75 1.75 0 0 0 14.5 13v-2.36a.75.75 0 0 0-.308-.606"/></g></svg>',title:v.get_translate("PureHome"),route:"/purehome",href:"./purehome"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" style="display: inline-block;" width="26" height="26" viewBox="0 0 24 24"><path fill="currentColor" d="M9.5 21h2.066A4.7 4.7 0 0 1 11 18.75c0-1.025.325-1.974.877-2.75H9.5zM21 9.5v4.833A4.7 4.7 0 0 0 19.25 14H16V9.5zm-6.5 0v4.666a4.7 4.7 0 0 0-.874.334H9.5v-5zM21 8V6.25A3.25 3.25 0 0 0 17.75 3H16v5zm-6.5-5h-5v5h5zM8 3H6.25A3.25 3.25 0 0 0 3 6.25V8h5zM3 9.5v5h5v-5zM3 16v1.75A3.25 3.25 0 0 0 6.25 21H8v-5zm16.25-1a3.75 3.75 0 0 1 .202 7.495l-.199.005v.005a.75.75 0 0 1-.108-1.493l.102-.007l.003-.005a2.25 2.25 0 0 0 .154-4.495l-.154-.005a.75.75 0 0 1-.102-1.493zm-3.5 0a.75.75 0 0 1 .102 1.493l-.102.007a2.25 2.25 0 0 0-.154 4.495l.154.005a.75.75 0 0 1 .102 1.493l-.102.007a3.75 3.75 0 0 1-.2-7.495zm3.5 3a.75.75 0 0 1 .102 1.493l-.102.007h-3.5a.75.75 0 0 1-.102-1.493L15.75 18z"/></svg>',title:v.get_translate("Link"),route:"/link",href:"./link"}];let o=G(205),i=G("hide"),u=G("hide"),w=G(""),y=G(0),f=G(20),x=G(20),c=G(0),a=G(0),n=G(0),p=50,$=260;const m={open_url(D=""){v.open_url(D)},calc_tab(){let D=s.length;g(o,(80+2*2)*D+5*2)},show_glass_div(){e(r)==="/purehome"||e(r)==="/link"?g(i,"show"):g(i,"hide")},show_qr_div(){e(r)==="/purehome"||e(r)==="/link"||e(r)==="/info"?v.make_qr_base64(v.get_href()).then(D=>{g(u,"show"),g(w,D,!0)}):g(u,"hide")},qr_enbig(){e(y)===0?(g(f,100),g(x,100),g(y,1)):(g(f,20),g(x,20),g(y,0))},watch_touch_swiper(D){const H=document.getElementById(D);if(!H){console.warn("id_name=",D);return}clearTimeout(e(c)),H.style.touchAction="pan-y",H.addEventListener("touchstart",function(B){g(a,B.touches[0].clientX,!0),g(n,B.touches[0].clientY,!0)},{passive:!0}),H.addEventListener("touchend",function(B){if(!e(a))return;const Z=B.changedTouches[0].clientX-e(a),te=B.changedTouches[0].clientY-e(n),W=Math.abs(Z);Math.abs(te)<Math.abs(Z)/2&&W>=p&&W<=$&&g(c,setTimeout(()=>{Z>0?(console.log("right",e(r)),e(r)==="/purehome"&&v.open_url("./link")):(console.log("left",e(r)),e(r)==="/link"&&v.open_url("./purehome"))},0),!0),g(a,0),g(n,0)},{passive:!0})}};be(()=>{!oe()||!se()||(g(r,v.get_route(),!0),m.calc_tab(),m.show_glass_div(),m.show_qr_div())}),me(()=>{m.watch_touch_swiper("tab-touch_swiper")});var A=dt(),E=q(A),k=R(b(E),2),M=b(k),L=R(b(M),6),J=b(L);we(J,17,()=>s,Le,(D,H)=>{var B=lt();B.__click=()=>m.open_url(e(H).href);var Z=b(B),te=b(Z);F(te,()=>e(H).icon),h(Z);var W=R(Z,2),ke=b(W);F(ke,()=>e(H).title),h(W),h(B),ee(()=>I(B,1,`tab-item select-none click ${e(r)===e(H).route?"tab-item-active":""}`,"svelte-1yberpl")),d(D,B)}),ge(2),h(L),h(M),h(k),h(E);var K=R(E,2);K.__click=()=>m.qr_enbig();var xe=b(K);h(K),ee(()=>{I(E,1,`part-div liquidGlass-div select-none ${e(i)??""} `,"svelte-1yberpl"),de(k,`width: ${e(o)??""}px;`),I(K,1,`tab-qr-box select-none font-mini click ${e(u)??""} `,"svelte-1yberpl"),de(K,`width: ${e(f)??""}px; height: ${e(x)??""}px;`),ne(xe,"src",e(w))}),d(_,A),j()}Ae(["click"]);var vt=P('<div><main><!></main> <!></div> <div class="alert select-none"><!> <!> <!></div>',1);function kt(_,t){z(t,!0);let r=G(ie(v.get_route())),s=G("hide"),o=G(""),i=G("");const u={watch_404_route(){Ge.status===404&&v.redirect_pathname({url_pathname:v.url_path("/_404"),url_params:"?error_url="+encodeURIComponent(v.get_href())+"&error_msg=404 Route"})},auto_set_language_index(){const k=ue.app.app_class+"language_index";v.js_call_py_or_go("get_data",{data_key:k}).then(M=>{let L=M.content.data?M.content.data:v.get_lang();ae.lang_index=L,g(i,L,!0)})},auto_set_theme_model(){const k=ue.app.app_class+"theme_model";v.js_call_py_or_go("get_data",{data_key:k}).then(M=>{let L=M.content.data;L||(L=v.get_theme_model()),re.theme_model=L,g(o,L,!0),document.documentElement.setAttribute("data-mode",L)})}};function w(){v.console_log("page_start=",e(r)),g(r,v.get_route(),!0);let k=v.get_lang();ae.lang_index=k,g(i,k,!0);let M=v.get_theme_model();if(re.theme_model=M,g(o,M,!0),document.documentElement.setAttribute("data-mode",M),oe())if(se())g(s,"show"),u.watch_404_route();else{v.alert_msg(v.get_translate("runtime_cn_chat_alert"),"long"),v.title("ðŸ˜…"),g(s,"hide");return}else{v.alert_msg(v.get_translate("runtime_error_alert"),"long"),v.title("âš ï¸"),g(s,"hide");return}}function y(){v.console_log("page_show=",e(r))}function f(){v.console_log("page_hide=",e(r))}Te(()=>{}),be(()=>{w()}),me(()=>{let k=v.get_lang();ae.lang_index=k,g(i,k,!0),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(L){let J=v.get_theme_model();re.theme_model=J,g(o,J,!0),document.documentElement.setAttribute("data-mode",J)}),!(!oe()||!se())&&document.addEventListener("visibilitychange",()=>{document.hidden?y():f()})}),Ee(()=>{}),Ce(()=>{});var x=vt(),c=q(x),a=b(c),n=b(a);C(n,()=>t.children),h(a);var p=R(a,2);ct(p,{}),h(c);var $=R(c,2),m=b($);tt(m,{});var A=R(m,2);ot(A,{});var E=R(A,2);it(E,{}),h($),ee(()=>{I(c,1,`app ${e(s)??""} select-none`),ne(c,"data-theme_model",e(o)),ne(c,"data-language_index",e(i)),I(a,1,`main ${e(s)??""} `)}),d(_,x),j()}export{kt as component};
