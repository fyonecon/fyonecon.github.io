import"../chunks/DsnmJJEf.js";import"../chunks/8lDQqbFO.js";import{p as E,ac as U,ad as q,t as z,a as w,b as I,c as v,d as g,s as N,r as m,ae as J,m as $,e as Y,aj as A,ai as i,af as B,ag as D}from"../chunks/Co-10cO8.js";import{h as F}from"../chunks/DDswawUO.js";import{i as G}from"../chunks/DAbaRw2n.js";import{a as H}from"../chunks/iFHb8IR8.js";import{f as s,r as P,b as C,c as n}from"../chunks/D0zSNZbT.js";import{s as K}from"../chunks/CJ2pdCbp.js";import{s as p}from"../chunks/DNGivXu4.js";const Q=!0,V=!0,W=!1,he=Object.freeze(Object.defineProperty({__proto__:null,csr:V,prerender:Q,ssr:W},Symbol.toStringTag,{value:"Module"}));var X=v('<div><div class="browser-search-engine svelte-1v2fl99"><br/> <h3 class="font-title">可以添加如下链接到浏览器的自定义搜索引擎：</h3> <br/> <div class="font-text select-text font-blue break"> </div> <br/></div></div>');function Z(y,b){E(b,!0);let c=U(s.get_route()),l=A("hide"),_=A("");const u=n.app.app_class+"search_selected"+"_history",h="#@#"+u+"#@#",x=200,j={check_white_word(e=""){let r=this,t=!1;i(l,"hide");let o=window.location.host.indexOf(".github.io")!==-1?"https":"http";if(e===n.sys.home_route_white_word){t=!0;let a="."+n.sys.home_route+"?cache="+s.js_rand(1e4,99999);a=a.replaceAll(".?cache=","./?cache="),a=a.replaceAll("//","/"),r.open_url(a)}else e==="@link"||e==="@bookmark"?(t=!0,r.open_url("./link")):e==="@jyp"||e==="@JYP"||e==="@Jyp"?(t=!0,r.open_url("./jyp?url_timeout="+s.url_timeout_encode("jyp",7200)+"&ap=ipt")):e==="@info"?(t=!0,r.open_url("./info")):e==="@404"?(t=!0,r.open_url("./_404")):e==="@clear"?(t=!0,s.clear_local_data(),r.open_url(s.url_path(n.sys.base_route+n.sys.home_route)+"?clear="+s.js_rand(1e4,99999))):e==="@bing"?(i(l,"show"),i(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=bing&history=yes&word=%s"),t=!0):e==="@baidu"?(i(l,"show"),i(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=baidu&history=no&word=%s"),t=!0):e==="@sogou"?(i(l,"show"),i(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=sogou&history=no&word=%s"),t=!0):e==="@google"?(i(l,"show"),i(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=google&history=yes&word=%s"),t=!0):e==="@yahoo"?(i(l,"show"),i(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=yahoo&history=yes&word=%s"),t=!0):e==="@yandex"&&(i(l,"show"),i(_,o+"://"+window.location.host+n.sys.base_route+"/search?engine=yandex&history=yes&word=%s"),t=!0);return t},open_url(e=""){window.location.replace(e)},check_param(){let e=this,r=s.unicode_to_string(s.search_href_param("","word").trim()),t=s.search_href_param("","engine").trim(),o=s.search_href_param("","history").trim(),a=s.search_href_param("","url_timeout").trim();if((o==="yes"||o==="true"||o==="True"||o==="1")&&e.input_history(r),a)if(s.loading_show(),s.url_timeout_decode("search",a)){if(s.is_url(r)){e.open_url(r);return}if(e.check_white_word(r))s.loading_hide();else{p[t]||(t="bing");let d=p[t].url+encodeURIComponent(r);e.open_url(d)}}else s.open_url_404("./",s.get_translate("url_timeout"),s.get_href());else if(e.check_white_word(r))s.loading_hide();else{p[t]||(t="bing");let d=p[t].url+encodeURIComponent(r);e.open_url(d)}},filter_array(e=""){let r="";if(e.length>0&&e.indexOf(h)!==-1){let t=e.split(h);t=Array.from(new Set(t));let o=0;t.length>x&&(o=x-t.length),t=t.slice(o),r=t.join(h)}else e.length>0&&e.indexOf(h)===-1&&(r=e);return r},input_history(e=""){let r=this;return new Promise(t=>{s.get_db_data(u).then(o=>{if(e.trim().length>0){o?o=o+h+e:o=h+e;let a=r.filter_array(o);s.set_db_data(u,a).then(d=>{t(a)})}})})}};function L(){s.console_log("page_start=",c),s.loading_hide(),j.check_param(),document.addEventListener("visibilitychange",()=>{document.hidden||j.check_param()})}function M(){s.console_log("page_show=",c)}function R(){s.console_log("page_hide=",c)}H(()=>{!P()||!C()||L()}),q(()=>{!P()||!C()||document.addEventListener("visibilitychange",()=>{document.hidden?M():R()})});var f=X(),O=g(f),S=N(g(O),6),T=g(S,!0);m(S),J(2),m(O),m(f),z(()=>{K(f,1,`page-div search-box select-none ${$(l)??""} `,"svelte-1v2fl99"),Y(T,$(_))}),w(y,f),I()}var ee=v('<meta name="keywords" content=""/> <meta name="description" content=""/>',1),te=v('<section class="section-main scroll-y-style"><!></section>');function ue(y,b){E(b,!1),G();var c=te();F("e12qt1",_=>{var k=ee();J(2),B(u=>{D.title=u??""},[()=>s.get_translate("Search")]),w(_,k)});var l=g(c);Z(l,{}),m(c),w(y,c),I()}export{ue as component,he as universal};
