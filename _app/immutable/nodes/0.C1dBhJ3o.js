import"../chunks/DsnmJJEf.js";import{p as z,aT as T,f as $,a as d,b as j,l as e,aV as l,d as p,aZ as X,r as h,c as P,a_ as S,a$ as qe,b0 as $e,b1 as Ae,s as B,t as ee,ae as me,ac as ie,ab as Te,aj as C,ad as ge,ai as _,h as Ce,aY as Ge}from"../chunks/DDM-VYuv.js";import{c as he,s as G,m as N,u as fe,n as pe}from"../chunks/ByrYlu2Q.js";import{a as V,b as de,s as ne}from"../chunks/BuPMPIKc.js";import{s as I}from"../chunks/BK4eK8HS.js";import{p as Pe}from"../chunks/B6wcfD4J.js";import{k as ce,l as ze,n as je,o as ve,p as Ee,q as _e,f as v,r as oe,b as se,s as ae,c as ue}from"../chunks/LvjCNRwg.js";import{a as be,c as Le}from"../chunks/DtTLLIT0.js";import{e as we,h as Q,i as Be}from"../chunks/C8thCtN3.js";import{i as le}from"../chunks/B4aUbAMv.js";import{i as O,r as Y}from"../chunks/D0uX6Wg0.js";const J=he();var Re=P("<button><!></button>");function De(u,t){z(t,!0);const n=Y(t,["$$slots","$$events","$$legacy"]),s=J.consume(),o=l(()=>t.element),i=l(()=>t.children),m=l(()=>S(n,["element","children"])),b=l(()=>N(s().getActionTriggerProps(),e(m)));var w=T(),f=$(w);{var y=a=>{var r=T(),g=$(r);G(g,()=>e(o),()=>e(b)),d(a,r)},c=a=>{var r=Re();V(r,()=>({...e(b)}));var g=p(r);G(g,()=>e(i)??X),h(r),d(a,r)};O(f,a=>{e(o)?a(y):a(c,!1)})}d(u,w),j()}var He=qe('<svg><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>');function Ve(u,t){z(t,!0);const n=Y(t,["$$slots","$$events","$$legacy"]),s=l(()=>S(n,[])),o=l(()=>N({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},e(s)));var i=He();V(i,()=>({...e(o)})),d(u,i),j()}const Xe=u=>{Ve(u,{})};var Se=P("<button><!></button>");function Ne(u,t){z(t,!0);const n=Y(t,["$$slots","$$events","$$legacy"]),s=J.consume(),o=l(()=>t.element),i=l(()=>$e(t.children,Xe)),m=l(()=>S(n,["element","children"])),b=l(()=>N(s().getCloseTriggerProps(),e(m)));var w=T(),f=$(w);{var y=a=>{var r=T(),g=$(r);G(g,()=>e(o),()=>e(b)),d(a,r)},c=a=>{var r=Se();V(r,()=>({...e(b)}));var g=p(r);G(g,()=>e(i)??X),h(r),d(a,r)};O(f,a=>{e(o)?a(y):a(c,!1)})}d(u,w),j()}var Ye=P("<div><!></div>");function Ze(u,t){z(t,!0);const n=Y(t,["$$slots","$$events","$$legacy"]),s=J.consume(),o=l(()=>t.element),i=l(()=>t.children),m=l(()=>S(n,["element","children"])),b=l(()=>N(s().getDescriptionProps(),e(m)));var w=T(),f=$(w);{var y=a=>{var r=T(),g=$(r);G(g,()=>e(o),()=>e(b)),d(a,r)},c=a=>{var r=Ye();V(r,()=>({...e(b)}));var g=p(r);G(g,()=>e(i)??X),h(r),d(a,r)};O(f,a=>{e(o)?a(y):a(c,!1)})}d(u,w),j()}const ye=he();var Ie=P("<div></div>");function Oe(u,t){const n=Ae();z(t,!0);const s=Y(t,["$$slots","$$events","$$legacy"]),o=l(()=>t.element),i=l(()=>t.children),m=l(()=>t.toaster),b=l(()=>S(s,["element","children","toaster"])),w=fe(ce.machine,()=>({id:n,store:e(m)})),f=l(()=>ce.connect(w,pe)),y=l(()=>N(e(f).getGroupProps(),e(b)));ye.provide(()=>w);var c=T(),a=$(c);{var r=A=>{var q=T(),k=$(q);G(k,()=>e(o),()=>e(y)),d(A,q)},g=A=>{var q=Ie();V(q,()=>({...e(y)})),we(q,21,()=>e(f).getToasts(),k=>k.id,(k,R)=>{var x=T(),M=$(x);G(M,()=>e(i)??X,()=>e(R)),d(k,x)}),h(q),d(A,q)};O(a,A=>{e(o)?A(r):A(g,!1)})}d(u,c),j()}var Ue=P("<div><!></div>");function Fe(u,t){z(t,!0);const n=Y(t,["$$slots","$$events","$$legacy"]),s=l(()=>t.element),o=l(()=>t.children),i=l(()=>S(n,["element","children"])),m=l(()=>N({"data-scope":"toast","data-part":"message"},e(i)));var b=T(),w=$(b);{var f=c=>{var a=T(),r=$(a);G(r,()=>e(s),()=>e(m)),d(c,a)},y=c=>{var a=Ue();V(a,()=>({...e(m)}));var r=p(a);G(r,()=>e(o)??X),h(a),d(c,a)};O(w,c=>{e(s)?c(f):c(y,!1)})}d(u,b),j()}function Qe(u,t){z(t,!0);const n=J.consume(),s=l(()=>t.children);var o=T(),i=$(o);G(i,()=>e(s),()=>n),d(u,o),j()}var Je=P("<div><div></div> <!> <div></div></div>");function Ke(u,t){z(t,!0);const n=Y(t,["$$slots","$$events","$$legacy"]),s=ye.consume(),o=l(()=>t.element),i=l(()=>t.children),m=l(()=>t.toast),b=l(()=>S(n,["element","children","toast"])),w=fe(ze,()=>({...e(m),parent:s()})),f=l(()=>je(w,pe)),y=l(()=>N(e(f).getRootProps(),e(b)));J.provide(()=>e(f));var c=T(),a=$(c);{var r=A=>{var q=T(),k=$(q);G(k,()=>e(o),()=>e(y)),d(A,q)},g=A=>{var q=Je();V(q,()=>({...e(y)}));var k=p(q);V(k,M=>({...M}),[()=>e(f).getGhostBeforeProps()]);var R=B(k,2);G(R,()=>e(i)??X);var x=B(R,2);V(x,M=>({...M}),[()=>e(f).getGhostAfterProps()]),h(q),d(A,q)};O(a,A=>{e(o)?A(r):A(g,!1)})}d(u,c),j()}var We=P("<div><!></div>");function et(u,t){z(t,!0);const n=Y(t,["$$slots","$$events","$$legacy"]),s=J.consume(),o=l(()=>t.element),i=l(()=>t.children),m=l(()=>S(n,["element","children"])),b=l(()=>N(s().getTitleProps(),e(m)));var w=T(),f=$(w);{var y=a=>{var r=T(),g=$(r);G(g,()=>e(o),()=>e(b)),d(a,r)},c=a=>{var r=We();V(r,()=>({...e(b)}));var g=p(r);G(g,()=>e(i)??X),h(r),d(a,r)};O(f,a=>{e(o)?a(y):a(c,!1)})}d(u,w),j()}const F=Object.assign(Ke,{Context:Qe,Group:Oe,Message:Fe,Title:et,Description:Ze,ActionTrigger:De,CloseTrigger:Ne});var tt=P('<div><div class="select-none"><div class="loading-info border-radius font-text svelte-fdjvf0"><div class="alert_loading_msg break select-text svelte-fdjvf0"><!></div> <svg class="loading-icon svelte-fdjvf0" xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z" opacity="0.5"></path><path fill="currentColor" d="M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z"><animateTransform attributeName="transform" dur="1s" from="0 12 12" repeatCount="indefinite" to="360 12 12" type="rotate"></animateTransform></path></svg></div></div></div>');function at(u,t){z(t,!1),le();var n=tt(),s=p(n),o=p(s),i=p(o),m=p(i);Q(m,()=>ve.loading_msg),h(i),me(2),h(o),h(s),h(n),ee(()=>I(n,1,`part-div alert_loading-div select-none not-click ${ve.loading_show??""}`,"svelte-fdjvf0")),d(u,n),j()}var rt=P("<!> <!>",1),nt=P("<!> <!>",1),ot=P('<div class="part-div"><!></div>');function st(u,t){z(t,!1),le();var n=ot(),s=p(n);{const o=(i,m=X)=>{F(i,{get toast(){return m()},children:(b,w)=>{var f=nt(),y=$(f);F.Message(y,{children:(a,r)=>{var g=rt(),A=$(g);F.Title(A,{children:(k,R)=>{var x=T(),M=$(x);Q(M,()=>m().title),d(k,x)},$$slots:{default:!0}});var q=B(A,2);F.Description(q,{children:(k,R)=>{var x=T(),M=$(x);Q(M,()=>m().description),d(k,x)},$$slots:{default:!0}}),d(a,g)},$$slots:{default:!0}});var c=B(y,2);F.CloseTrigger(c,{}),d(b,f)},$$slots:{default:!0}})};F.Group(s,{get toaster(){return Ee.toaster},children:o,$$slots:{default:!0}})}h(n),d(u,n),j()}var it=P('<div><div class="select-none"><div class="loading-info  svelte-1sascuq"><div class="alert_loading_msg break border-radius font-text bg-neutral-200 dark:bg-neutral-900 select-text svelte-1sascuq"><!></div></div></div></div>');function lt(u,t){z(t,!1),le();var n=it(),s=p(n),o=p(s),i=p(o),m=p(i);Q(m,()=>_e.alert_msg),h(i),h(o),h(s),h(n),ee(()=>I(n,1,`part-div alert_loading-div select-none ${_e.alert_show??""}`,"svelte-1sascuq")),d(u,n),j()}const re=ie({theme_model:""});var dt=P('<button><div><!></div> <div class="font-mini"><!></div></button>'),ct=P('<div id="tab-touch_swiper"><svg style="display: none;"><filter id="glass-distortion" x="0%" y="0%" width="100%" height="100%" filterUnits="objectBoundingBox"><feturbulence type="fractalNoise" baseFrequency="0.001 0.005" numOctaves="1" seed="17" result="turbulence"></feturbulence><fecomponenttransfer in="turbulence" result="mapped"><fefuncr type="gamma" amplitude="1" exponent="10" offset="0.5"></fefuncr> <fefuncg type="gamma" amplitude="0" exponent="1" offset="0"></fefuncg> <fefuncb type="gamma" amplitude="0" exponent="1" offset="0.5"></fefuncb></fecomponenttransfer><fegaussianblur in="turbulence" stdDeviation="3" result="softMap"></fegaussianblur><fespecularlighting in="softMap" surfaceScale="5" specularConstant="1" specularExponent="100" lighting-color="white" result="specLight"><fepointlight x="-200" y="-200" z="300"></fepointlight></fespecularlighting><fecomposite in="specLight" operator="arithmetic" k1="0" k2="1" k3="1" k4="0" result="litImage"></fecomposite><fedisplacementmap in="SourceGraphic" in2="softMap" scale="200" xChannelSelector="R" yChannelSelector="G"></fedisplacementmap></filter></svg> <div class="liquidGlass-box pywebview-drag-region can-drag   svelte-1yberpl" id="swiper_tab"><div class="liquidGlass-wrapper svelte-1yberpl"><div class="liquidGlass-effect svelte-1yberpl"></div> <div class="liquidGlass-tint svelte-1yberpl"></div> <div class="liquidGlass-shine svelte-1yberpl"></div> <div class="liquidGlass-text svelte-1yberpl"><!> <div class="clear"></div></div></div></div></div> <button><img class="tab-qr-img svelte-1yberpl" alt="QR"/></button>',1);function vt(u,t){z(t,!0);let n=C(ie(v.get_route()));const s=[{icon:'<svg xmlns="http://www.w3.org/2000/svg" style="display: inline-block;" width="26" height="26" viewBox="0 0 24 24"><g fill="currentColor"><path d="M10 13v-1.978l1.5-1.094l1.5 1.094V13a.25.25 0 0 1-.25.25h-2.5A.25.25 0 0 1 10 13"/><path d="M3.25 11.5a8.25 8.25 0 1 1 14.578 5.294l2.675 2.676a.75.75 0 0 1-1.06 1.06l-2.678-2.678A8.25 8.25 0 0 1 3.25 11.5m10.942-1.466l-2.25-1.64a.75.75 0 0 0-.884 0l-2.25 1.64a.75.75 0 0 0-.308.606V13c0 .966.784 1.75 1.75 1.75h2.5A1.75 1.75 0 0 0 14.5 13v-2.36a.75.75 0 0 0-.308-.606"/></g></svg>',title:v.get_translate("PureHome"),route:"/purehome",href:"./purehome"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" style="display: inline-block;" width="26" height="26" viewBox="0 0 24 24"><path fill="currentColor" d="M9.5 21h2.066A4.7 4.7 0 0 1 11 18.75c0-1.025.325-1.974.877-2.75H9.5zM21 9.5v4.833A4.7 4.7 0 0 0 19.25 14H16V9.5zm-6.5 0v4.666a4.7 4.7 0 0 0-.874.334H9.5v-5zM21 8V6.25A3.25 3.25 0 0 0 17.75 3H16v5zm-6.5-5h-5v5h5zM8 3H6.25A3.25 3.25 0 0 0 3 6.25V8h5zM3 9.5v5h5v-5zM3 16v1.75A3.25 3.25 0 0 0 6.25 21H8v-5zm16.25-1a3.75 3.75 0 0 1 .202 7.495l-.199.005v.005a.75.75 0 0 1-.108-1.493l.102-.007l.003-.005a2.25 2.25 0 0 0 .154-4.495l-.154-.005a.75.75 0 0 1-.102-1.493zm-3.5 0a.75.75 0 0 1 .102 1.493l-.102.007a2.25 2.25 0 0 0-.154 4.495l.154.005a.75.75 0 0 1 .102 1.493l-.102.007a3.75 3.75 0 0 1-.2-7.495zm3.5 3a.75.75 0 0 1 .102 1.493l-.102.007h-3.5a.75.75 0 0 1-.102-1.493L15.75 18z"/></svg>',title:v.get_translate("Link"),route:"/link",href:"./link"}];let o=C(205),i=C("hide"),m=C("hide"),b=C(""),w=C(0),f=C(20),y=C(20),c=C(10),a=C(0),r=C(0),g=C(0),A=50,q=260;const k={open_url(D=""){v.open_url(D)},calc_tab(){let D=s.length;_(o,(80+2*2-4)*D+5*2+2)},show_glass_div(){e(n)==="/purehome"||e(n)==="/link"?_(i,"show"):_(i,"hide")},show_qr_div(){e(n)==="/purehome"||e(n)==="/link"||e(n)==="/info"?v.make_qr_base64(v.get_href()).then(D=>{_(m,"show"),_(b,D,!0)}):_(m,"hide")},qr_enbig(){e(w)===0?(_(f,100),_(y,100),_(w,1)):(_(f,20),_(y,20),_(w,0))},watch_touch_swiper(D){const H=document.getElementById(D);if(!H){console.warn("id_name=",D);return}clearTimeout(e(a)),H.style.touchAction="pan-y",H.addEventListener("touchstart",function(L){_(r,L.touches[0].clientX,!0),_(g,L.touches[0].clientY,!0)},{passive:!0}),H.addEventListener("touchend",function(L){if(!e(r))return;const Z=L.changedTouches[0].clientX-e(r),te=L.changedTouches[0].clientY-e(g),W=Math.abs(Z);Math.abs(te)<Math.abs(Z)/2&&W>=A&&W<=q&&_(a,setTimeout(()=>{Z>0?e(n)==="/purehome"&&v.open_url("./link"):e(n)==="/link"&&v.open_url("./purehome")},0),!0),_(r,0),_(g,0)},{passive:!0})}};be(()=>{!oe()||!se()||(_(n,v.get_route(),!0),k.calc_tab(),k.show_glass_div(),k.show_qr_div(),v.is_pc_pwa()||v.is_mobile_pwa()?_(c,22):_(c,10))}),ge(()=>{k.watch_touch_swiper("tab-touch_swiper")});var R=ct(),x=$(R),M=B(p(x),2),E=p(M),U=B(p(E),6),xe=p(U);we(xe,17,()=>s,Be,(D,H)=>{var L=dt();L.__click=()=>k.open_url(e(H).href);var Z=p(L),te=p(Z);Q(te,()=>e(H).icon),h(Z);var W=B(Z,2),Me=p(W);Q(Me,()=>e(H).title),h(W),h(L),ee(()=>I(L,1,`tab-item select-none click ${e(n)===e(H).route?"tab-item-active":""}`,"svelte-1yberpl")),d(D,L)}),me(2),h(U),h(E),h(M),h(x);var K=B(x,2);K.__click=()=>k.qr_enbig();var ke=p(K);h(K),ee(()=>{I(x,1,`part-div liquidGlass-div select-none ${e(i)??""} `,"svelte-1yberpl"),de(M,`width: ${e(o)??""}px; bottom: ${e(c)??""}px;`),I(K,1,`tab-qr-box select-none font-mini click ${e(m)??""} `,"svelte-1yberpl"),de(K,`width: ${e(f)??""}px; height: ${e(y)??""}px;`),ne(ke,"src",e(b))}),d(u,R),j()}Te(["click"]);var _t=P('<div><main><!></main> <!></div> <div class="alert select-none"><!> <!> <!></div>',1);function Mt(u,t){z(t,!0);let n=C(ie(v.get_route())),s=C("hide"),o=C(""),i=C("");const m={watch_404_route(){Pe.status===404&&v.redirect_pathname({url_pathname:v.url_path("/_404"),url_params:"?error_url="+encodeURIComponent(v.get_href())+"&error_msg=404 Route"})},auto_set_language_index(){const x=ue.app.app_class+"language_index";v.js_call_py_or_go("get_data",{data_key:x}).then(M=>{let E=M.content.data?M.content.data:v.get_lang();ae.lang_index=E,_(i,E,!0)})},auto_set_theme_model(){const x=ue.app.app_class+"theme_model";v.js_call_py_or_go("get_data",{data_key:x}).then(M=>{let E=M.content.data;E||(E=v.get_theme_model()),re.theme_model=E,_(o,E,!0),document.documentElement.setAttribute("data-mode",E)})}};function b(){v.console_log("page_start=",e(n)),_(n,v.get_route(),!0);let x=v.get_lang();ae.lang_index=x,_(i,x,!0);let M=v.get_theme_model();if(re.theme_model=M,_(o,M,!0),document.documentElement.setAttribute("data-mode",M),oe())if(se())_(s,"show"),m.watch_404_route();else{v.alert_msg(v.get_translate("runtime_cn_chat_alert"),"long"),v.title("ðŸ˜…"),_(s,"hide");return}else{v.alert_msg(v.get_translate("runtime_error_alert"),"long"),v.title("âš ï¸"),_(s,"hide");return}}function w(){v.console_log("page_show=",e(n))}function f(){v.console_log("page_hide=",e(n))}Ce(()=>{}),be(()=>{b()}),ge(()=>{let x=v.get_lang();ae.lang_index=x,_(i,x,!0),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(E){let U=v.get_theme_model();re.theme_model=U,_(o,U,!0),document.documentElement.setAttribute("data-mode",U)}),!(!oe()||!se())&&document.addEventListener("visibilitychange",()=>{document.hidden?w():f()})}),Le(()=>{}),Ge(()=>{});var y=_t(),c=$(y),a=p(c),r=p(a);G(r,()=>t.children),h(a);var g=B(a,2);vt(g,{}),h(c);var A=B(c,2),q=p(A);at(q,{});var k=B(q,2);st(k,{});var R=B(k,2);lt(R,{}),h(A),ee(()=>{I(c,1,`app ${e(s)??""} select-none`),ne(c,"data-theme_model",e(o)),ne(c,"data-language_index",e(i)),I(a,1,`main ${e(s)??""} `)}),d(u,y),j()}export{Mt as component};
